<html class="cye-disabled cye-lm"><head><meta charset="utf-8"><meta name="referrer" content="no-referrer"><meta name="Keywords" content="极客时间,极客邦,极客邦科技,极客邦控股,极客时间App,专栏订阅,极客新闻,二叉树,极客Live,QCon,左耳听风,AI技术内参,大航海时代,陈皓,徐飞,洪亮劼,霍泰稳,池建强,Selina,Gary,InfoQ,极客搜索"><meta name="description" content="极客时间是极客邦科技出品的一款 IT 内容知识服务 App，内容包含专栏订阅、极客新闻、热点专题、直播、视频和音频等多形式的知识内容，并设有陈皓专栏、徐飞专栏、洪亮劼专栏等专栏供订阅。"><link rel="apple-touch-icon" sizes="180x180" href="http://static001.geekbang.org/static/icon/time/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="http://static001.geekbang.org/static/icon/time/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="http://static001.geekbang.org/static/icon/time/favicon-16x16.png"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover"><meta name="format-detection" content="telephone=no"><title>05 | 	Elasticsearch的安装与简单配置</title><link href="https://static001.geekbang.org/static/time/css/app.b230db929e53af87acd535637f5011b8.css" rel="stylesheet"><style type="text/css">        @font-face {            font-family: player-font;            src: url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.eot");            src: url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.eot?#iefix") format("embedded-opentype"), url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.woff") format("woff"), url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.ttf") format("truetype"), url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.svg#player-font") format("svg")        }        .player-font {            font-family: player-font !important;            font-size: 16px;            font-style: normal;            -webkit-font-smoothing: antialiased;            -webkit-text-stroke-width: .2px;            -moz-osx-font-smoothing: grayscale        }        .vplayer {            position: relative;            overflow: hidden        }        .vplayer,        .vplayer video {            width: 100%        }        .vplayer .title {            position: absolute;            top: 1rem;            left: 1rem;            right: 1rem;            color: #fff;            font-weight: 400;            font-size: .875rem;            word-break: break-all;            display: -webkit-box;            overflow: hidden;            text-overflow: ellipsis;            -webkit-box-orient: vertical;            -webkit-line-clamp: 1        }        .vplayer .finish-control,        .vplayer .loading {            position: absolute;            top: 0;            left: 0;            background: rgba(0, 0, 0, .5);            color: #fff;            width: 100%;            height: 100%;            z-index: 2;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center        }        .vplayer .finish-control h3,        .vplayer .loading h3 {            position: absolute;            color: #fff;            top: 1rem;            left: 50%;            font-size: 1rem;            font-weight: 400;            -webkit-transform: translate(-50%);            transform: translate(-50%)        }        .vplayer .finish-control p,        .vplayer .loading p {            cursor: pointer;            max-height: 6rem;            text-align: center        }        .vplayer .finish-control .cancel-next,        .vplayer .loading .cancel-next {            margin-left: 4rem        }        .vplayer .finish-control .cancel-next .icon-cancel-next,        .vplayer .loading .cancel-next .icon-cancel-next {            height: 4rem;            line-height: 4rem;            cursor: pointer;            font-size: 3.5rem        }        .vplayer .finish-control .cancel-next .icon-cancel-next i,        .vplayer .loading .cancel-next .icon-cancel-next i {            position: absolute;            top: 0;            left: 0;            margin-left: 8px        }        .vplayer .finish-control .icon-replay,        .vplayer .loading .icon-replay {            height: 4rem;            cursor: pointer;            line-height: 4rem;            font-size: 3rem        }        .vplayer .finish-control {            background: #000        }        .vplayer .no-wifi {            width: 70%;            position: absolute;            left: 50%;            top: 50%;            padding: 1rem;            background: rgba(0, 0, 0, .8);            -webkit-transform: translate(-50%, -50%);            transform: translate(-50%, -50%);            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: vertical;            -webkit-box-direction: normal;            -ms-flex-direction: column;            flex-direction: column;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            z-index: 3        }        .vplayer .no-wifi p {            line-height: 1.5rem;            margin: 0 auto;            width: 60%;            color: #fff;            font-size: 1rem;            text-align: center        }        .vplayer .no-wifi p span {            font-size: .875rem        }        .vplayer .no-wifi div {            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1;            margin-top: 1rem        }        .vplayer .no-wifi div a {            color: #fff;            background: #ff5a05;            padding: .3rem .5rem        }        .vplayer .no-wifi div a:last-child {            margin-left: 1rem        }        .vplayer .buy {            position: absolute;            z-index: 4;            top: 0;            left: 0;            width: 100%;            height: 100%;            color: #fff;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: vertical;            -webkit-box-direction: normal;            -ms-flex-direction: column;            flex-direction: column;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            background: #000        }        .vplayer .buy p {            text-align: center        }        .vplayer .buy p span {            color: #ff5a05        }        .vplayer .buy .btn {            margin-top: 1rem;            color: #fff;            background: #ff5a05;            padding: .3rem 1.5rem        }        .android .dplayer .dplayer-controller .dplayer-icons .dplayer-full,        .dplayer-setting-item.dplayer-setting-loop {            display: none        }</style><style type="text/css">        .MathJax_Display {            overflow: auto        }        .poster {            position: fixed;            left: -10000px;            top: -10000px;            overflow: hidden;            padding: 1rem;            background: #ececec        }        .richcontent-pre-copy {            font-size: 13px;            color: #888;            position: absolute;            right: 1em;            top: .2em;            cursor: pointer;            -webkit-user-select: none;            -moz-user-select: none;            -ms-user-select: none;            user-select: none        }        .richcontent-pre-copy .iconfont {            font-size: 12px;            margin-right: .2em        }</style><style type="text/css">        .bottom {            width: 100%;            background-color: #f5f5f5;            position: fixed;            bottom: 0;            left: 0;            z-index: 10        }        .bottom,        .bottom .bottom-wrapper {            height: 67px;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row        }        .bottom .bottom-wrapper {            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1;            padding-left: 20px;            padding-right: 20px;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between        }        .bottom .bottom-wrapper a {            height: 48px;            line-height: 51px;            -webkit-box-sizing: border-box;            box-sizing: border-box        }</style><style type="text/css">        .breadcrumb {            padding: 30px 0;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -ms-flex-wrap: wrap;            flex-wrap: wrap;            background: #fff        }        .breadcrumb a.title {            color: #e57c39;            font-size: 15px;            font-weight: 400        }        .breadcrumb span.title {            color: #888;            font-size: 15px;            font-weight: 400        }        .breadcrumb .split {            color: #ccc;            font-size: 10px;            margin-right: 5px        }</style><style type="text/css">        .course-detail[data-v-4e11b9bf] {            max-width: 46.25rem;            margin: 0 auto;            background: #f5f5f5        }        .course-detail .course-main[data-v-4e11b9bf] {            background-color: #fff;            width: 100%;            z-index: 10;            top: 0;            left: 0        }        .course-detail .course-info[data-v-4e11b9bf] {            background: #fff;            cursor: pointer        }        .course-detail .course-info .course-info-top[data-v-4e11b9bf] {            padding: 1rem 0 .4rem .78125rem;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center        }        .course-detail .course-info .course-info-top h1[data-v-4e11b9bf] {            font-size: 1.03125rem;            font-weight: 400;            text-align: justify-content        }        .course-detail .course-info .course-info-top i[data-v-4e11b9bf] {            font-weight: 400;            width: 40px;            padding-right: .78125rem;            -ms-flex-negative: 0;            flex-shrink: 0;            text-align: right;            color: #dadada        }        .course-detail .course-info .course-info-bottom[data-v-4e11b9bf] {            padding: 0 54px .5rem .78125rem;            border-bottom: 1px solid #e8e8e8;            color: #888;            font-size: .78125rem        }        .course-detail .course-info .course-info-bottom .icon-course-play[data-v-4e11b9bf] {            color: #d9d9d9;            font-size: .75rem        }        .course-detail .video-list[data-v-4e11b9bf] {            background: #fff;            width: 100%;            overflow: hidden;            overflow: auto;            -webkit-overflow-scrolling: touch        }        .course-detail .video-list ul[data-v-4e11b9bf] {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            padding: .875rem 0        }        .course-detail .video-list ul li[data-v-4e11b9bf] {            margin-left: .71875rem;            position: relative;            border: 1px solid #e8e8e8;            border-radius: 3px;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            height: 4.0625rem;            overflow: hidden;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            font-size: .78125rem;            -ms-flex-negative: 0;            flex-shrink: 0;            line-height: 1rem;            -webkit-transition: border .5s ease;            transition: border .5s ease        }        .course-detail .video-list ul li img[data-v-4e11b9bf] {            width: 1.78125rem;            height: .84375rem;            position: absolute;            top: 0;            left: 0        }        .course-detail .video-list ul li a[data-v-4e11b9bf] {            -webkit-transition: color .5s ease;            transition: color .5s ease;            padding: 0 .5rem        }        .course-detail .video-list ul li a[data-v-4e11b9bf]:link,        .course-detail .video-list ul li a[data-v-4e11b9bf]:visited {            color: #353535        }        .course-detail .video-list ul li.on[data-v-4e11b9bf] {            border-color: #ff5a05        }        .course-detail .video-list ul li.on a[data-v-4e11b9bf]:link,        .course-detail .video-list ul li.on a[data-v-4e11b9bf]:visited {            color: #ff5a05        }        .article-title[data-v-4e11b9bf] {            color: #353535;            font-weight: 400;            line-height: 1.65rem;            font-size: 1.34375rem        }        .article-info[data-v-4e11b9bf] {            color: #888;            font-size: .9375rem;            margin-top: 1.0625rem        }        .article-content[data-v-4e11b9bf] {            margin-top: 1.0625rem        }        .audio-player[data-v-4e11b9bf] {            width: 100%;            margin: 20px 0        }        .content-box[data-v-4e11b9bf] {            padding: 1px 1.3125rem;            background-color: #fff;            margin-top: .46875rem        }        .to-comment[data-v-4e11b9bf] {            overflow: hidden;            padding-top: 20px;            margin: 0 1.3125rem -10px        }        .to-comment a.button-primary[data-v-4e11b9bf] {            float: right;            height: 20px;            font-size: 12px;            line-height: 20px;            padding: 4px 8px;            cursor: pointer        }        .extra[data-v-4e11b9bf] {            margin-top: .46875rem;            margin-bottom: 67px;            background: #fff;            position: relative        }        .extra .video-comment-box[data-v-4e11b9bf] {            position: absolute;            width: 100%;            top: 0;            left: 0;            z-index: 3;            -webkit-box-sizing: border-box;            box-sizing: border-box;            background: #fff;            padding-left: 1rem;            padding-right: 1rem;            padding-top: .5rem        }        .extra .video-comment-box h3[data-v-4e11b9bf] {            color: #353535;            font-size: .875rem;            line-height: 2rem;            font-weight: 400        }        .extra .comments[data-v-4e11b9bf] {            margin: 0 1.3125rem;            padding-bottom: 50px        }        .extra .comments h2[data-v-4e11b9bf] {            text-align: center;            color: #888;            position: relative;            z-index: 1;            margin-bottom: 14px        }        .extra .comments h2[data-v-4e11b9bf]:before {            border-top: 1px dotted #e8e8e8;            content: "";            position: absolute;            top: 50%;            left: 0;            width: 100%;            z-index: -1        }        .extra .comments h2 span[data-v-4e11b9bf] {            font-size: 15.25px;            font-weight: 400;            padding: 16px 1rem;            background: #fff;            display: inline-block        }        .extra .comments .no-comment[data-v-4e11b9bf] {            text-align: center        }        .extra .comments .no-comment i.icon-cat[data-v-4e11b9bf] {            color: #f5f5f5;            font-size: 100px;            line-height: 1.2;            margin-right: 12px        }        .extra .comments .no-comment .no-comment-text[data-v-4e11b9bf] {            color: #e8e8e8;            font-size: 12.5px;            line-height: 1.6        }        .bottom[data-v-4e11b9bf] {            position: fixed;            bottom: 0;            left: 0;            width: 100%;            height: 67px;            background: #fff;            background-color: #f5f5f5;            z-index: 10        }        .bottom .buy-join[data-v-4e11b9bf],        .bottom[data-v-4e11b9bf] {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center        }        .bottom .buy-join[data-v-4e11b9bf] {            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            height: 48px;            line-height: 48px        }        .bottom .buy-join span[data-v-4e11b9bf] {            line-height: 48px;            margin-left: 5px;            color: hsla(0, 0%, 100%, .5);            font-size: 11px;            text-decoration: line-through        }        .bottom .button-cancel[data-v-4e11b9bf] {            height: 51px;            line-height: 51px        }        .bottom-control[data-v-4e11b9bf],        .bottom-sub[data-v-4e11b9bf] {            width: 100%;            -webkit-box-orient: horizontal;            -ms-flex-direction: row;            flex-direction: row;            -ms-flex-pack: distribute;            justify-content: space-around;            -webkit-box-sizing: border-box;            box-sizing: border-box;            padding: 0 1.3125rem        }        .bottom-control .item[data-v-4e11b9bf],        .bottom-control[data-v-4e11b9bf],        .bottom-sub .item[data-v-4e11b9bf],        .bottom-sub[data-v-4e11b9bf] {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-direction: normal        }        .bottom-control .item[data-v-4e11b9bf],        .bottom-sub .item[data-v-4e11b9bf] {            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1;            -webkit-box-orient: vertical;            -ms-flex-direction: column;            flex-direction: column;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            cursor: pointer        }        .bottom-control .item i[data-v-4e11b9bf],        .bottom-sub .item i[data-v-4e11b9bf] {            color: #353535;            font-size: 1.125rem;            line-height: 1.5rem        }        .bottom-control .item span[data-v-4e11b9bf],        .bottom-sub .item span[data-v-4e11b9bf] {            color: #888;            font-size: 11px        }        .button-subscribe[data-v-4e11b9bf] {            -webkit-box-flex: 1;            -ms-flex: 1;            flex: 1;            height: 69px;            color: #fff;            font-size: 15.25px;            text-align: center;            background-color: #ff5a05;            line-height: 69px;            border-radius: 5px        }        .article-sub-bottom[data-v-4e11b9bf] {            z-index: 2        }        @media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) {            .bottom[data-v-4e11b9bf],            .comments[data-v-4e11b9bf] {                padding-bottom: 34px            }        }        @media (max-width:769px) {            .course-detail .breadcrumb[data-v-4e11b9bf] {                padding: 10px            }        }        @media screen and (min-width:768px) {            .extra .comments[data-v-4e11b9bf],            .to-comment[data-v-4e11b9bf] {                margin: 0 0 -10px            }        }</style><style type="text/css">        .mobile-tips {            width: 100%;            height: 51px;            background: rgba(0, 0, 0, .8);            position: fixed;            top: 0;            left: 0;            z-index: 20;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between;            -webkit-box-sizing: border-box;            box-sizing: border-box;            padding: 0 12px;            -webkit-transition: opacity .35s;            transition: opacity .35s;            opacity: 0;            pointer-events: none        }        .mobile-tips.istop {            opacity: 1;            pointer-events: auto        }        .mobile-tips .mobile-tips-info {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: start;            -ms-flex-pack: start;            justify-content: flex-start        }        .mobile-tips .mobile-tips-info i {            width: 36px;            height: 36px;            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAYAAAA4E5OyAAAL30lEQVR4Ae2bBXTbStOG/VGZmVJM6lCZmZnplJmZmZkZ/o+Z4TIzM2O5aW+bimWZY8H7jxTnNvax2xQcnnOerHhm351R1rJsO3/+fG2i7uXLlxsGAoE9ABQUETMM42NFUfqZ/Q/qUMtmrqSnpyfquv4Giqb5yRaTDvVMUWxXrlxpRGK8i6JtAa/XO94Uxaaq6mEUm2nczZs3k2wAXLCs2Cg5jttQbNlvsrfDBCk2W96MhA7d54Qm34R662uoNz6z0Jjz0J0sDL/LPKhwC6J7HMi48g7crx6B8qcJkA6kQNzTGNJuk4ZBGkHa0wTSwVQ4/zkH3nd/aQlmBHyFRxCVRt3z1GY49iVB3l0f8kE7lJPtoPyyF5Rf9QnSN5Nf9oXTanvDcaoD5EOJdE4DKEdaw/vWOcoepuAKogppcP1pOqTtcZD3xUM51x3K//WhtncmZ7PoFXk5iMM6pycc+5vSterC/dwu6F5HwRHE0FR4XjgCeUt9KHsT4DxDnTxt0jNID4vgcoRtwfXw4+g6Fvsoa7Y3RMbXz+Z/QTSXSCXRBdK6KlBOdIVyqhe13e9Cj/vfR9d0nuwGeWN1uP+1DIau5k9BAuwViGvqQt6RAMfJ3pCPdoPjoegedbt17RO9IO9KhONQNxgZ3vwlSEb6hUwxdtop4B6QD3cN0iWM0G2OO9vD6BKhDT2OzrV8SXtSIe9tTaJ48ocgqsxAWlELjm2UGUdoVA91zhkHTaJuJ3J4jcPkc1cKHPs7AYaet4LoaoAyIx7i5oaQKXXlA50gRaUjpP0drWPkg7S+pwXE9XEQV9WAsKoWhJXVIa2sCXFdHKTdzcxj6NjOEa9pbdufbdvBrpC22eH808K8FcTxx2UQVlTNDGhfR6JDWEtkrR/oTG178OvqUoc7wP3kHmR8/yY0Pg2ag4Em34aafh7+z56G8pfl4JfVhLCmNsS9bc1zw65tLYdCMYira8L/9Ut5I4jv4kfgZ5eAtJeC23N35P1dIK1vBOXIYAQuvgtDC9w7+9wOeN/+CwneANLaOLpG53v72dcJwtKqMHyu3BVENwxIWztQyjc0R5toH529HSEsqw7f6799wCm/AuXsVKujJP49/NG+zXZ4/rs1dwXxfPIcZUdpKwBxR9sotLNGTVhUDeq1z/Gw5n76JPhZpchnO/PaUf2aMfELK5GQjtwRxDAMiDt7QFhNqbytLdEmBDGr3UlizC0P9frXeFTmevwIhFmlrWuTj6iI6xLge/lc7gjiT78Mfk6FTOdbiK0mrX9sRbPdTiO4tBb8Hz2BR23yyekQF1YlH+2zfGYjGA8NlLw+BdC12Aviev4cxFllIJtibG4dmY2pUE5OQCxM8/vAzakFeZ09un+KTZxfBeqNr2MriK5p4Dd0hLiiEaQNrSKzqQ2ldSVo4i3Eypyv/gXC1NLU+TYRYmhpteLaRLifPBBbQQIiA35mNQjrm0NY1yIya5KgnJiEWJrq94NbYoewKiF6HOtbwHFoeGwF8V36BPyUshDWNo9AC6vl5lSF75NnEEszCPk3KyHMqBA1DrMVlzeFkeGLnSDuj54GN6kUZQE5XN0MPBFsg8vNwU4sCZW/gVib+70nwE8oBX5Nlu9wmlM2V4UmM7ETxPnS78BOLQNuVTNwq7NIvdMS/KLG1qjE2ryXvwQ7uRL5TDb9R4ShDNK467ETRHnqBAlSjgRJjczKJIjr2ltT81ibn7kBblpN8pkYNR5mWnmo6RdjKMiTx8FPLgd+JWXCiuykZLbLswRRkVPTiYDbef+CsDfBTq1JPu2RYyHYqeURSPsqhiXz7C/BTSgNblky+BBSgiSBn98I+n08wZJe+Qe4YVXu+1mGJ+08mIlVyKedSI4IO6kcZcil2AnievNfYMf9AsLS5BB4q02y4Eb9HKqQszmIVxbAjCoJaUZjGOr9lZnrk1fAjSlp+eRD4shaJqZUgSalx04Q75dvgh31U3BLqOOLg4Qts2N+Ad8Xr+NephoGuPX9wJHA0qZu91VmBiH+fT/YkT8L+o8MP7chDL8ndoJkpF8FO7okuEV2IjEyM2rAcXYx7mXyU78F08dG5ZcIaU2n+xIkYADshn5gp1SKHsfiRBK6R2wnZprfC3ZqbXIYTw5DnN9ZX5IIdvjPoDklRDM3z+D2WOrMnLp0nv2+BVG++5RKrTSd2zToP5Iodrj+tDH2H+6kc8vATawAbmFiZBZR2UyoAMeZJVFKBWCWdgZL9c8tSaFzmkK8D0ECBLO6D7ixpiDJUeNgp9ZA4Nt3Yi+I96u3wQy2gTWdLrBHxhwhOsZ34bPw2ofw37NgBtisGmfn28HMj4e4umOOBDEI6aV/gxtE5y+kc7P8zQ/zT7HxMxvAUDNiL4ie4Qc3oTq4eY3BUSARWUCCzIqjwH+KgCwgy1xpF8EM/Bntq2cdYx07Lx7SqpwJolz+HuzQMuCn16LzSdDI/ml7U7j/vCX3HiEqf9sLfvjPIVBQ/Dw7+PlBaFkgeJOFyeAnVabyqmPde1QA7JKO4EaVgLAwhY7JOj4B0sq7C2IQzqsk5mgaiPHlwS9K+dGnkN0/YcbEjSljTtlzTxDV5QAz9GeZWUId4uZHgWqcHV8O3JL24I4uADuhCnXGHnrMvCYkSIeoghiE8u3HYIbQdaz7TnJ0fyYL4qEcnZ77X0Mo/zkGhmqZNVN3bkIm84LMzQZlCju1FtjRpcxUpv32kP3M3CYQV0QXRNMNpE9PBWv6WpRM54T6CPE9PxHMqFLQJSb3BdFVFey4GuCm1qaAqJNzEh4IZnYTCMvv/vlH/Ou+TPHnJYKdHX6+BS1TDNPi4HnseN59c5dx6wqYHjYKMp6g0Z+VQC1BbdTl8G0zG99TkIDPC2Z0FbBT69J54deMJ0xBmkLaMDTvv+x2v/I3MP1JlLmJFFjTsA5HIUQQypBl7e75X0Z+7LQ1s2XnJZnnhkLb+GkNzGl6/ngdwvmPg2D72qwaZufEmx0NtlnL2QUJbs88jmgMMQeCqH4/zW6rm/ej4PXiM9v5SeAmx0Hjf8hfL8y4/ncCXG8bmLnxYOYkEE0yoXsEa7V3YIkf981uRCXTLmfzkFf/DaYn+Zhvz/Rh/oeb0hi6mJ4/X6nymOVDorBT48yaDtY3MdNsw5iZ1VKGLM2ZIFogQFlSmzKiJtjpDei8ztAVIX+/dJdx/TzEGSnghpUAT6LwVOMcddxiZpBZ2ZjRGFIOBTHN+enrYFNKwP3LtQCMgvFapqHrcD/9S3CDK4IbUwHc7AQiKEw4M0mQZff32FGT2IL54q7mkuH+7zGIUxuBHfoLcFPrkTDZxcgURJxtv/8PYgVJkAyfF3r2jFED8H/9NpznlkGcmwJ+WGlwQ0uAG18N3JSakGZRyehazq8f/Fq14AgiceCOrYSbvR2xyjWZQ8b5D+F9/Z/w0H8njb2eYyHEWzehPPUHU+SCVTJe+kCW3t4G/tgCKN9+Ap/bjfsdUyP4uNAtyxA+fRPpR+ZBWj7QFKNg3kMC7A2wCTZw5txhcjzYXZMgvPh3OM5/DiebDo/XB59mwK9q8Psz4KV1t0OGkv4DpG8+Bvf8X3F76zgwU+xgaZbq3LaoEPwawiFAGFsHwogS4EaWBdfPBnZoWTAT4sDObgZmcWcwK/uANVnSFczsFmAmNQAzrLw1++WGlwI7siQ8v9lUeH4vo/k8cGwdDn7YL8CZD3RmNQY3tS74idXBjasEbkx5C95cnlAd/NQ64Gc2Aj8vERw9jPa/+IfC+Ysq13+OgutlAz8tDtwce+R5iclsO9gZDSHOaw017dvC/ROzjFuXoWweDI4+IXOTa5kTthDYyZQdk+rC+6+DgK4Xjd/cWcJc+wauP22BNC8VwuiKEKc1gGPbMPhe+gN0l1xoJmb3b7oOzcFD97nz4Uy12LRiQUKSVX/bRn8+QbFZ5nQ6J9ocDscwAP4iXyua9vj58+fjbeYfr9e7ytxWhEvls7S0tOakRWOb+YeId7vdcw3DEItgZjxx7dq1ZqRBE6KRKUiD4Er89evXWwUCgTMkDFvYdTBvoHTPmEz9TsgSg6j///oXgzKZqkEyAAAAAElFTkSuQmCC);            background-position: 0 0;            background-repeat: no-repeat;            background-size: contain;            border-radius: 7px        }        .mobile-tips .mobile-tips-info h2 {            font-size: 15px;            color: #fff;            font-weight: 400;            margin-left: 6px        }        .mobile-tips .mobile-tips-info h2 span {            font-size: 11px        }        .mobile-tips a {            width: 72px;            height: 31px;            text-align: center;            border: 1px solid #ff5a05;            border-radius: 3px;            font-size: 13px;            color: #ff5a05;            line-height: 31px        }</style><style type="text/css">        .comment-item {            list-style-position: inside;            width: 100%;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            margin-bottom: 1rem        }        .comment-item a {            border-bottom: none        }        .comment-item .avatar {            width: 2.625rem;            height: 2.625rem;            -ms-flex-negative: 0;            flex-shrink: 0;            border-radius: 50%        }        .comment-item .info {            margin-left: .5rem;            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1        }        .comment-item .info .hd {            width: 100%;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center        }        .comment-item .info .hd .username {            color: #888;            font-size: 15.25px;            font-weight: 400;            line-height: 1.2        }        .comment-item .info .hd .control {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center        }        .comment-item .info .hd .control .btn-share {            color: #888;            font-size: .75rem;            margin-right: 1rem        }        .comment-item .info .hd .control .btn-praise {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            font-size: 15.25px;            text-decoration: none        }        .comment-item .info .hd .control .btn-praise i {            color: #888;            display: inline-block;            font-size: .75rem;            margin-right: .3rem;            margin-top: -.01rem        }        .comment-item .info .hd .control .btn-praise i.on,        .comment-item .info .hd .control .btn-praise span {            color: #ff5a05        }        .comment-item .info .bd {            color: #353535;            font-size: 15.25px;            font-weight: 400;            white-space: normal;            word-break: break-all;            line-height: 1.6        }        .comment-item .info .time {            color: #888;            font-size: 9px;            line-height: 1        }        .comment-item .info .reply .reply-hd {            font-size: 15.25px        }        .comment-item .info .reply .reply-hd span {            margin-left: -12px;            color: #888;            font-weight: 400        }        .comment-item .info .reply .reply-hd i {            color: #ff5a05;            font-size: 15.25px        }        .comment-item .info .reply .reply-content {            color: #353535;            font-size: 15.25px;            font-weight: 400;            white-space: normal;            word-break: break-all        }        .comment-item .info .reply .reply-time {            color: #888;            font-size: 9px        }</style></head><body style=""><div id="app"><div data-v-4e11b9bf="" class="course-detail"><div class="breadcrumb breadcrumb"><span><a href="#" class="title router-link-active">讲堂</a><span class="split iconfont"></span></span><span><span class="title">05 | 	Elasticsearch的安装与简单配置</span></span></div><div data-v-4e11b9bf="" class="course-main main" style="position: relative;"><div data-v-4e11b9bf="" class="vplayer" id ="DplayerCont" style="height: 416.25px;"><h2 class="title">                        05 | 	Elasticsearch的安装与简单配置</h2></div></div><div data-v-4e11b9bf="" class="course-info" style="margin-top: 0px;"><div data-v-4e11b9bf="" class="course-info-top"><h1 data-v-4e11b9bf="" class="course-title"></h1><i data-v-4e11b9bf="" class="iconfont"></i></div></div><div data-v-4e11b9bf=""><div data-v-4e11b9bf="" class="content-box"><div data-v-4e11b9bf="" id="article-content" class="typo common-content"><div class="text">                            <h1>Elasticsearch 下载地址</h1><p><a href="https://www.elastic.co/downloads/elasticsearch">https://www.elastic.co/downloads/elasticsearch</a></p><p><a href="https://github.com/geektime-geekbang/geektime-ELK/tree/master/part-1/2.1-Elasticsearch%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE">课程Demo</a></p><h1>相关阅读</h1><ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/important-settings.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/important-settings.html</a></li>
<li>Elasticsearch on Kubernetes <a href="https://www.elastic.co/cn/blog/introducing-elastic-cloud-on-kubernetes-the-elasticsearch-operator-and-beyond">https://www.elastic.co/cn/blog/introducing-elastic-cloud-on-kubernetes-the-elasticsearch-operator-and-beyond</a></li>
<li>CAT Plugins API <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.1/cat-plugins.html">https://www.elastic.co/guide/en/elasticsearch/reference/7.1/cat-plugins.html</a></li>
</ul><!-- [[[read_end]]] --><h1>课件地址</h1><p><a href="https://github.com/geektime-geekbang/geektime-ELK/blob/master/part-1/%E5%88%9D%E8%AF%86Elasticsearch.pdf">初识Elasticsearch</a></p></div></div></div></div><div data-v-4e11b9bf="" class="extra" style="margin-bottom: 1rem;"><div data-v-4e11b9bf="" class="comments"><h2 data-v-4e11b9bf=""><span data-v-4e11b9bf="">精选留言</span></h2><ul>                        <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/9e/c8/d261f700.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">yswang</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>10</span></a></div>
	</div>
	<div class="bd">我的CentOS启动 ES 真不容易啊，遇到了以下这些错误，都要一一解决：<br>1. seccomp unavailable 错误<br>解决方法：elasticsearch.yml 配置<br>bootstrap.memory_lock: false<br>bootstrap.system_call_filter: false<br><br>2. max file descriptors [4096] for elasticsearch process likely too low, increase to at least [65536]<br>解决方法：修改 /etc/security/limits.conf，配置：<br>hard nofile 80000<br>soft nofile 80000<br><br>3. max virtual memory areas vm.max_map_count [65530] is too low<br>解决方法：修改 /etc/sysctl.conf，添加 ：<br>vm.max_map_count = 262144<br>然后 sysctl -p 生效<br><br>4. the default discovery settings are unsuitable...., last least one of [....] must be configured<br>解决方法：elasticsearch.yml 开启配置：<br>node.name: node-1<br>cluster.initial_master_nodes: ["node-1"]<br><br>老师啊，你的安装启动也简单了，很多初始配置都没有讲啊。<br>感觉首次启动时能出现的错误，都被我遇到了，(⊙﹏⊙)</div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">在 Linux 上的安装，确实会变得更加的复杂，课程中的初衷，是希望大家能通过在 Windows或MAC笔记本上实现安装，尽快上手，学习概念和API的使用。复杂的生产环境配置，会在第三部分中详细讲解。<br><br>感谢你分享的一些 tips</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/93/ea/071fa8bf.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">lisong</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>6</span></a></div>
	</div>
	<div class="bd">为什么在一台机器上启动多节点的时候不需要指定不同的端口？</div> <span class="time">2019-07-03</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">业余草</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>4</span></a></div>
	</div>
	<div class="bd">关于安装elasticsearch-plugin install analysis-icu慢和`Exception in thread "main" java.net.UnknownHostException: artifacts.elastic.co`我在这篇文章 https://www.xttblog.com/?p=4366 中做了解答。共勉！</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">谢谢分享</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/1c/91/6eed5044.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">赵津</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>3</span></a></div>
	</div>
	<div class="bd">安装插件出现Exception in thread "main" java.net.UnknownHostException: artifacts.elastic.co是为我网络问题吗？老师</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">嗯，如果无非是解决，你可以先下载后安装<br>https://artifacts.elastic.co/downloads/elasticsearch-plugins/analysis-icu/analysis-icu-7.1.0.zip<br><br>elasticsearch-plugin install file://file path<br>Of analysis-icu-7.1.0.zip</p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/ae/92/5614e5b2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Kitty</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>2</span></a></div>
	</div>
	<div class="bd">老师，我是win7系统安装ES7.2的插件analysis-icu报错了<br>WARNING: An illegal reflective access operation has occurred<br>WARNING: Illegal reflective access by org.bouncycastle.jcajce.provider.drbg.DRBG<br> (file:/D:/new-sort/elasticsearch-7.2.0/lib/tools/plugin-cli/bcprov-jdk15on-1.61<br>.jar) to constructor sun.security.provider.Sun()<br>WARNING: Please consider reporting this to the maintainers of org.bouncycastle.j<br>cajce.provider.drbg.DRBG<br>WARNING: Use --illegal-access=warn to enable warnings of further illegal reflect<br>ive access operations<br>WARNING: All illegal access operations will be denied in a future release<br>-> Installed analysis-icu</div> <span class="time">2019-07-05</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/3b/65/3a4fc8cf.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">prepared</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>2</span></a></div>
	</div>
	<div class="bd">windows执行命令：call bin/elasticsearch.bat -E node.name=node1 -E cluster.name=geektime -E path.data=node1_data -d<br><br>报错信息：future versions of Elasticsearch will require Java 11; your Java version from [C:\Program Files\Java\jdk1.8.0_131\jre] does not meet this requirement<br><br>问题：1. es7.2 不是已经内置了java嘛？为什么要在调用本地的java？<br>2. es7.2 只支持java11嘛？</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content"><br>1.本地设置java home，使用本地的<br><br>2.7.2应该可以使用java8的，有些插件可能不行</p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLCrSITpN0Dzic0Ao4rYjV8ULicYWCo8I6ROnwt6bk0VibX8ibJicnUo1JkYRPPlpVc1uqf7XaXicDwqpUPw/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">kofssl</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>2</span></a></div>
	</div>
	<div class="bd">老师，这个同时承担怎么配配置，<br>配置成同时承担 Coordinate + Data + Master ，我理解Coordinate配置条件和另外master和Data是互斥的啊</div> <span class="time">2019-06-28</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">不做任何配置，每个节点默认就是data和coordinate节点，也是master eligible 节点。<br><br>后续的课程中会讲解如何设置成 dedicated的 单一角色</p> <p class="reply-time">2019-06-28</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/8d/3d/d3d983cb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">メ稀饭凉面 メ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>2</span></a></div>
	</div>
	<div class="bd">老师学习课程的时候，6月26号更新到了7.2版本，可以下载7.2版本的学习吗？</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">如果自己有探索精神，当然可以的。可能会对课程中的简介和配置做一些很小的改动，这本身也会帮助你加深印象。<br><br>从 API 层面，ES 的 API 不会有大的改动</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/62/14/9712dd98.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">wangdexing</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">windows 不能在一个cmd窗口 同时运行多条 如下这种命令 各种尝试最后只能打开了多个cmd窗后 每个运行一个命令 最后才模拟成功集群.<br>elasticsearch -E node.name=node1 -E cluster.name=geektime -E path.data=node1_data </div> <span class="time">2019-07-11</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/57/38/e5b8b766.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">杰锅不是锅</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">老师，你好，我在局域网192.168.1.56 centos上安装好了，curl http://localhost:9200能返回安装成功，在我本机访问http：//192.168.1.56：9200访问不到，我的本地ip 192.168.1.164 确认56上防火墙已经关闭，老师，有什么解决办法吗？</div> <span class="time">2019-07-08</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">这个需要吧host绑定机器ip或者设置成0.0.0.0</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/28/68/774b1619.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Fan</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">老师你好，我在启动ES集群时候，第2、3个节点启动报日志错误：<br>Could not rename log file 'logs/gc.log' to 'logs/gc.log.23' (Permission denied).<br><br>启动命令如下：<br>elasticsearch -E node.name=cdemo_1 -E cluster.name=test -E path.data=fenhy_1_data -d<br>elasticsearch -E node.name=cdemo_2 -E cluster.name=test -E path.data=fenhy_2_data -d<br>elasticsearch -E node.name=cdemo_3 -E cluster.name=test -E path.data=fenhy_3_data -d<br>elasticsearch -E node.name=cdemo_4 -E cluster.name=test -E path.data=fenhy_4_data -d<br><br>我是win10，内置超管。为什么会无权限呢? <br>有个特别的点是,我用cmder 多行命令 && 运行时, 它只跑第一条命令, 所以我这边是4个终端,分开逐一运行的.</div> <span class="time">2019-07-06</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">输入cmd，然后右键，控制台点 “以管理员身份运行”再试试？</p> <p class="reply-time">2019-07-07</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/fe/b4/3bb4a76f.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">🐾悟空🐾</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">老师您说的github上的关于集群配置地址可以提供一下吗？我没有找到。</div> <span class="time">2019-07-04</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">https://github.com/onebirdrocks/geektime-ELK<br><br>课程的github。不知道你问的是不是这个？</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">汇揽熙云</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">老师Linux启动时报了一个错误信息  BindTransportException[Failed to bind to [9300-9400]]; nested: BindException[Cannot assign requested address]  一直解决不了</div> <span class="time">2019-07-03</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIoLJ4czmvibbSUJBUMx6LDY3ARydm41EGQ7MEupd3zAa2iaiadQdaiadBITJZWCffLdYvjwicMyP0adZQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">运维之路</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">老师elasticserch 的jvm  内存异常日志一般存储在哪？ 可以自己配置吗</div> <span class="time">2019-07-01</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqk1XbuxMP8OPv1QUEOg1IR2bCWaBcr19Z8KiaSg2fnHs7PicmJRtD7ibdEK4As692g3xtTdajjWWdXw/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">vvip</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">老师，请问es的插件能不能离线安装？主要是服务器不允许访问互联网。</div> <span class="time">2019-06-30</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">可以的。你去下载好zip的插件文件。记得要和es版本匹配<br><br>然后安装执行 elasticseach-plugin install file://file-path/pluginfile.zip<br></p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/c1/9b/8a64cd39.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Oven</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">Native controller process has stopped - no new native processes can be started<br>老师，关于启动报这个错误，按照网上的所有需要修改的配置都修改了，修改后也重启了，可是还是报这个错误。。。</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">你是在什么操作系统上？java版本是多少？</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/3IAJeiapYnr5UuqwQqB7N7gYL71vLnUEibxAeOalsGw4bALEOkhoQMVc3bJ1ZTjL1gTTQmPwQgUfEfR5cnZeMo5g/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">abner</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">能不能在网盘上提供课程需要的软件 Windows 和 Linux 版本的压缩包，因为官网上下载速度实在是太慢了。</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">https://github.com/onebirdrocks/geektime-ELK<br><br>我在页面的底部加上了百度盘的link。</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/d4/de/2108c3e2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">松柏</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">这个es下载慢的很啊,有没有国内镜像什么的.</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">这个不是很清楚，我一直使用官网的地址下载</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/cd/c8/01068aff.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">葛亮</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>1</span></a></div>
	</div>
	<div class="bd">老师,安装elasticsearch-plugin install analysis-icu速度很慢很慢,有解决方案吗?</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">你可以尝试先下载<br>https://artifacts.elastic.co/downloads/elasticsearch-plugins/analysis-icu/analysis-icu-7.1.0.zip<br><br>然后elasticsesrch-plugin install file://file path of<br>Plugin</p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/76/d6/a9f381bf.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">天青</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师您好，我使用windows的PowerShell(管理员身份运行)来执行./elasticsearch -E node.name=node2 -E cluster.name=geektime -E path.data=node2_data -d，以启动第二个节点，节点启动成功但是控制台显示Could not rename log file 'logs/gc.log' to 'logs/gc.log.09' (Permission denied).请问关于这个日志的问题如何解决？</div> <span class="time">2019-07-15</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">往事随风，顺其自然</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">新版本的对应平台可以给出一个安装手册，希望不要花太多时间浪费在启动elasticsearch上</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">往事随风，顺其自然</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">window10 里面下载elasticsearch7.2 的mac版本的，怎么启动elasticsearch，我的电脑不是mac的</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/a6/a2/65f07269.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">LiPeng</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">多节点部署的时候遇到了问题：“master_not_discovered_exception”。我加了参数后还是不行，LINUX环境。老师可以解答吗？万分感谢。<br>启动参数如下：<br><br>bin/elasticsearch -E node.name=node1 -E cluster.name=my-application -E path.data=/lipeng/datas/es7-1 -E cluster.initial_master_nodes=["node1","node2"]<br><br>bin/elasticsearch -E node.name=node2 -E cluster.name=my-application -E path.data=/lipeng/datas/es7-2 -E cluster.initial_master_nodes=["node1","node2"]<br><br>日志如下：<br><br>[2019-07-14T12:06:34,143][WARN ]<br>[o.e.c.c.ClusterFormationFailureHelper] [node1] master not discovered yet, <br>this node has not previously joined a bootstrapped (v7+) cluster,<br> and this node must discover master-eligible nodes [[node1, node2]] to bootstrap a cluster:<br> have discovered [{node2}{MXdTO0zCS1SmZN7CNsnyNg}{e2cmFsV5RtOw7dD6SH4RtQ}{172.21.0.1}{172.21.0.1:9301}<br> {ml.machine_memory=3975200768, ml.max_open_jobs=20, xpack.installed=true}]; <br> discovery will continue using [127.0.0.1:9300] <br> from hosts providers and [{node1}{1lmCsGktS26Hy_ZCbigPzw}{llwT3EH5RmKg5XNfVz97Eg}<br> {127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=3975200768, xpack.installed=true, ml.max_open_jobs=20}] <br> from last-known cluster state; node term 0, last-accepted version 0 in term 0<br><br></div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/c7/6a/83eb4c8f.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">超</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">集群里的配置的怎么样，不用copy 多分 es 源文件，不用修改节点名称，就能启动的集群吗，建议老师细讲一下es 配置 步骤及注意事项，我之前就搭建过集群，是需要copy 多分源文件的，要修改节点名称，本次买这个教程是为了更深入的学习es ，万事开头，希望老师在前面的搭建过程，需要详细点，这样方便更多的初学者入门</div> <span class="time">2019-07-12</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">谢谢你的建议。我会在后续课程中会考虑讲解的相对细一些。不过那样讲，肯定会牺牲掉一些广度。单节课有时间限定，而且有些概念会在后续课程中讲解。<br>关于你的问题，<br>在本机，通过启动，在运行参数中加入-E 就可以overwrite掉elasticsearch.yml文件的配置。集群名称，节点名称，data目录，都是需要指定的。<br><br>其实真的对于新手，最好的上手方式是本机就启动单个节点。通过-E 运行，其实只是为了给大家增加一个动手练习的机会。<br><br>后续会有生产环境的部署等讲解。</p> <p class="reply-time">2019-07-12</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJph3WBjqpJ4QBoLiaiaIqpxSgwgcfeOia429sQ8W0eSlicNEibUicYEBYvTibwpibW7YfGMyzFsgwRFuD9JA/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">yzlyzt</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">阮老师，请问es配置jvm时，怎么选择GC，CMS和G1哪个更合适，还是需要根据不同的系统环境和应用场景来选择？</div> <span class="time">2019-07-12</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">我们目前用都用cms。我记得es正在做对ZGC的支持</p> <p class="reply-time">2019-07-12</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/5f/1b/97d8cbd2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Jason</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">windows下必须分别执行多个CMD 才能模拟多节点集群.</div> <span class="time">2019-07-11</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">谢谢分享👍</p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/1b/1f/e38f6867.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">碗里的小屁孩</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">单机怎么启动多实例，我使用命令提示ip上面端口已经占用了。</div> <span class="time">2019-07-11</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/e3/58/9a1e3200.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">橙子</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">elastic7.2安装自带了java11 但是运行plugin时候还是提示java版本不够</div> <span class="time">2019-07-10</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">7.2应该是支持java8的，我估计是plugin编译时，指定了java version。你可以讲javahome指定成自带的java11上，应该就可以解决</p> <p class="reply-time">2019-07-10</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/0f/80/293def91.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">yoyo</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">请问老师，centos下root用户执行docker-compose up 容器运行后退出 是否要另建账户执行。</div> <span class="time">2019-07-10</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/6e/33/6618d542.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">疯子</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">安装elk也太简单了，按照您的步骤一直报错<br></div> <span class="time">2019-07-10</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/31/7e/ce1cf9b2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">聂成阳</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">win10如何启动四个节点啊，我开了两个cmd,但还是只起来了一个节点</div> <span class="time">2019-07-09</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/5f/ed/380ce2ac.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">天痕</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">win10的cmd命令无法同时运行以下的启动命令<br>//start multi-nodes Cluster<br>bin/elasticsearch -E node.name=node0 -E cluster.name=geektime -E path.data=node0_data<br>bin/elasticsearch -E node.name=node1 -E cluster.name=geektime -E path.data=node1_data<br>bin/elasticsearch -E node.name=node2 -E cluster.name=geektime -E path.data=node2_data<br>bin/elasticsearch -E node.name=node3 -E cluster.name=geektime -E path.data=node3_data<br>报<br>ERROR: setting [node.name] already set, saw [node0] and [node1]错误，<br>是必须要启动四个cmd窗口运行吗？还是什么问题？<br></div> <span class="time">2019-07-08</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/5f/ed/380ce2ac.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">天痕</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，elasticsearch的第七发行版说未来需要java11的支持，本机的java不换版本，如何为elasticsearch配置指定的java11版本？</div> <span class="time">2019-07-08</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">目前java8就可以</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/7e/00/c00ddb9d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">DreamDeparture</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">请教一下老师win10系统启动多实例ElasticSearch集群时，有如下报错<br>D:\Develop\elasticsearch-7.1.0>bin\elasticsearch -E node.name=node0 -E cluster.name=geektime -E path.data=node0_data -d  <br>bin\elasticsearch -E node.name=node1 -E cluster.name=geektime -E path.data=node1_data -d                                bin\elasticsearch -E node.name=node2 -E cluster.name=geektime -E path.data=node2_data -d                                bin\elasticsearch -E node.name=node3 -E cluster.name=geektime -E path.data=node3_data -d<br><br>starts elasticsearch<br><br>Option                Description<br>------                -----------<br>-E <KeyValuePair>     Configure a setting<br>-V, --version         Prints elasticsearch version information and exits<br>-d, --daemonize       Starts Elasticsearch in the background<br>-h, --help            show help<br>-p, --pidfile <Path>  Creates a pid file in the specified path on start<br>-q, --quiet           Turns off standard output/error streams logging in console<br>-s, --silent          show minimal output<br>-v, --verbose         show verbose output<br>ERROR: setting [node.name] already set, saw [node0] and [node1]<br>该怎么解决</div> <span class="time">2019-07-08</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/ef/04/f2942f14.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Boomkeeper</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">请问老师，这个集群是不是没有master节点什么的？</div> <span class="time">2019-07-07</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">有，每个集群至少有一个master节点</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">一步</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">现在我启动ES服务，默认使用的是我本机的JDK1.8，怎么配置使用随着ES下载下来的JDK呢？</div> <span class="time">2019-07-07</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">设置java home，默认按照java home来读取</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/92/7d/b5a24605.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Wind</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">elasticsearch.bat -E node.name=node0 -E cluster.name=beehive -E path.data=node0_data -d <br>elasticsearch.bat -E node.name=node1 -E cluster.name=beehive -E path.data=node1_data -d <br>elasticsearch.bat -E node.name=node2 -E cluster.name=beehive -E path.data=node2_data -d <br>elasticsearch.bat -E node.name=node3 -E cluster.name=beehive -E path.data=node3_data -d<br><br>win7环境启动多节点，貌似不成功。<br><br>ERROR: setting [node.name] already set, saw [node0] and [node1]</div> <span class="time">2019-07-07</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/92/7d/b5a24605.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Wind</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">D:\softhan\elasticsearch\elasticsearch\elasticsearch-7.2.0\bin>elasticsearch.bat<br> -E node.name=node1 -E cluster.name=beehive -E path.data=node1_data -d<br>future versions of Elasticsearch will require Java 11; your Java version from [D<br>:\programhan\Java\jdk1.8.0_162\jre] does not meet this requirement<br>Exception in thread "main" java.nio.file.InvalidPathException: Illegal char <?><br>at index 10: node1_data?-d<br>        at sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)<br>        at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)<br>        at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)<br>        at sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)<br>        at sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)<br>        at org.elasticsearch.common.io.PathUtils.get(PathUtils.java:60)<br>        at org.elasticsearch.env.Environment.<init>(Environment.java:120)<br>        at org.elasticsearch.env.Environment.<init>(Environment.java:92)<br>        at org.elasticsearch.node.InternalSettingsPreparer.prepareEnvironment(In<br>ternalSettingsPreparer.java:69)<br>        at org.elasticsearch.cli.EnvironmentAwareCommand.createEnv(EnvironmentAw<br>areCommand.java:95)<br>        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwar<br>eCommand.java:86)<br>        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:1<br>24)<br>        at org.elasticsearch.cli.Command.main(Command.java:90)<br>        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115<br>)<br>        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)<br><br>win7只能启动一个节点，第二个时 会报错，</div> <span class="time">2019-07-07</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKVvmvmkWhMVxRWkD7icxIicyHiaENsOuYn5icxDAT1iaQwGG6sgxASdVOibf7HvEzTmVaLdzHXa1cxDUNQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">空空</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师请问怎么在mac命令行下像视频里面一样一次执行多条命令，而且不显示执行过程，谢谢。<br>bin/elasticsearch -E node.name=node0 -E cluster.name=geektime -E path.data=node0_data<br>bin/elasticsearch -E node.name=node1 -E cluster.name=geektime -E path.data=node1_data<br>bin/elasticsearch -E node.name=node2 -E cluster.name=geektime -E path.data=node2_data<br>bin/elasticsearch -E node.name=node3 -E cluster.name=geektime -E path.data=node3_data</div> <span class="time">2019-07-07</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">mac或者linux下加-d</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/cd/10/ea77600b.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">么春‮脸小的你了亲并‭</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">大家在 win 下边用的什么软件执行<br>cmd 的模式下每次指令都需要 Ctrl + C 返回一次才能执行下一次<br>用 Xshell 的话，提示的错误是这个<br> "could not find java in JAVA_HOME or bundled at C:\software\elasticsearch-7.2.0\jdk" <br>命令行执行是正常的</div> <span class="time">2019-07-06</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Geek_399c70</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">安装太简单了，我们公司都在限制使用windos服务器，安装环境不用Linux安装，还要一步步摸索。</div> <span class="time">2019-07-06</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">第一部分的目的是让新学员掌握，并且搭建环境。es还是属于dev mode。生产环境会在后续讲解的</p> <p class="reply-time">2019-07-07</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/46/38/6a4df2eb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">三少爷</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">如果在虚拟机中安装Elasticsearch, 并且想在宿主机可以访问, 需要配一下network.host, 但是Elasticsearch到了7.0以后还得搭配discovery.seed_hosts一起配置, 否则报错, 如下: <br>vi /opt/elasticsearch-7.1.1/config/elasticsearch.yml<br>network.host: 0.0.0.0<br># 这项是重点, 否则network.host取消注释后Elasticsearch起不来<br>discovery.seed_hosts: ["127.0.0.1", "[::1]"]<br><br>同时贡献一个elasticsearch.service服务文件<br>vi /usr/lib/systemd/system/elasticsearch.service<br>[Unit]<br>Description=Elasticsearch<br>Documentation=http://www.elastic.co<br>Wants=network-online.target<br>After=network-online.target<br><br>[Service]<br>RuntimeDirectory=elasticsearch<br>PrivateTmp=true<br>Environment=JAVA_HOME=/opt/jdk1.8.0_212<br>Environment=ES_HOME=/opt/elasticsearch-7.1.1<br>Environment=ES_PATH_CONF=/opt/elasticsearch-7.1.1/config<br>Environment=PID_DIR=/opt/elasticsearch-7.1.1/data<br><br>WorkingDirectory=${ES_HOME}<br><br>User=elastic<br>Group=elastic<br><br>ExecStart=/opt/elasticsearch-7.1.1/bin/elasticsearch -p ${PID_DIR}/elasticsearch.pid --quiet<br><br>StandardOutput=journal<br>StandardError=inherit<br><br># Specifies the maximum file descriptor number that can be opened by this process<br>LimitNOFILE=65536<br><br># Specifies the maximum number of processes<br>LimitNPROC=4096<br><br># Specifies the maximum size of virtual memory<br>LimitAS=infinity<br><br># Specifies the maximum file size<br>LimitFSIZE=infinity<br><br># Disable timeout logic and wait until process is stopped<br>TimeoutStopSec=0<br><br># SIGTERM signal is used to stop the Java process<br>KillSignal=SIGTERM<br><br># Send the signal only to the JVM rather than its control group<br>KillMode=process<br><br># Java process is never killed<br>SendSIGKILL=no<br><br># When a JVM receives a SIGTERM signal it exits with code 143<br>SuccessExitStatus=143<br><br>[Install]<br>WantedBy=multi-user.target</div> <span class="time">2019-07-06</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">非常棒的分享👍</p> <p class="reply-time">2019-07-06</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/5e/1a/fadfdccb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">问how</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">有时碰到es的错误，需要看下源码，老师会讲解源码编译和导入开发工具么，谢谢。</div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">暂时没有这个计划，这个对大部分同学来说，太高阶了。真要加，也会放在最后的章节。从一套课程来说，我觉得广度优先更为重要。但是会讲如何排查集群的故障，性能优化等</p> <p class="reply-time">2019-07-06</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/3e/89/ccc2ebd9.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">陈晓涛</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，运行命令:bin/elasticsearch 的终端是什么</div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">我使用iterm+zsh</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/59/c9/80445363.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">dream fly</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">D:\网络软件\elasticsearch\elasticsearch-7.2.0\bin>plugin -install mobz/elasticsearch-head<br>'plugin' 不是内部或外部命令，也不是可运行的程序或批处理文件。<br>我是windows64位下安装了elasticsearch7.2.0；安装插件一直报这个错该怎么解决呀？<br></div> <span class="time">2019-07-04</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">应该是bin/elasticsearch-plugin install</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/9b/8d/154dff81.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">hellochenpro</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">用课程demo的命令已经在一台 CentOS 服务器，已经成功启动一个 3 节点的 es 集群：bin/elasticsearch -E node.name=node1 -E cluster.name=geektime -E path.data=/datago/es71/node-1/es_data -E path.logs=/datago/es71/node-1/es_logs -d 。<br>疑问：这样启动的实例，好像只能绑定 127.0.0.1 这个ip。服务器是有公网 IP 的，我想让 es 的实例能绑定公网 IP. 如果修改默认配置文档的 elasticsearch.yml 里的 network.host 时，集群启动就失败。<br>修改什么配置，可以让实例绑定公网ip？</div> <span class="time">2019-07-03</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">network.host本机测试，你试着设置成0.0.0.0？</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/d7/61/9f7f0b3f.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">随行</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师能否解答一下安装7.2会遇到哪些坑，比如jdk版本问题，网上有流传几个解决方法，但是并没有得到很好的解决</div> <span class="time">2019-07-03</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">7.2安装应该没有什么特别的。下载解压后就可以运行了</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/a7/31/e5b4878a.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Alec</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，如果将elasticsearch 装在kubernetes里，那后端存储用什么比较好呢？使用ceph构建的block storage 是不是可行？</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">我们使用的pvc是ebay内部开发的localssd和local dynamic</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIeN5Bn6G5BosC6e42CibHD1BbvoGlAqqPUftG3fUGSBp2tJiaeXEhd01l7184WlGt9jAPQTdxlKO2Q/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">yanzi</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">下载的7.2 <br>bin/elasticsearch -E node.name=node0 -E cluster.name=geektime -E path.data=node0_data -d<br>bin/elasticsearch -E node.name=node1 -E cluster.name=geektime -E path.data=node1_data -d<br>bin/elasticsearch -E node.name=node2 -E cluster.name=geektime -E path.data=node2_data -d<br>bin/elasticsearch -E node.name=node3 -E cluster.name=geektime -E path.data=node3_data -d<br>执行完之后 页面显示：<br>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>在浏览器中访问 http://localhost:9200/_cat/nodes 结果是 ：127.0.0.1 13 98 71 3.62   mdi * node0  为啥是这样呀</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">建议先不要用 -d，看看控制台都打印了什么出错信息</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/c9/20/523828a2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">zj</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">进程杀不掉，通过ps | grep elasticsearch，对应端口杀掉后，9200居然还能访问</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">try <br>kill -9 pid？</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/c9/20/523828a2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">zj</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师jdk用的哪个版本</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">我本地有多个JDK环境，开发的代码用JDK8。<br><br>https://www.elastic.co/cn/support/matrix#matrix_jvm<br><br>查看这个，了解 OS和JVM<br><br></p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/56/d7/c4b098a8.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">刘天庆</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师   我在启动第二个node的时候 有一个Address already in use: bind exception<br>2019-07-02T10:15:30,759][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [node1] uncaught exception in thread [main]<br>org.elasticsearch.bootstrap.StartupException: BindHttpException[Failed to bind to [9200]]; nested: BindException[Address already in use: bind];<br>        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:163) ~[elasticsearch-7.0.0.jar:7.0.0]<br>        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) ~[elasticsearch-7.0.0.jar:7.0.0]<br>        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.0.0.jar:7.0.0]<br>        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-7.0.0.jar:7.0.0]<br>        at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.0.0.jar:7.0.0]<br>        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) ~[elasticsearch-7.0.0.jar:7.0.0]<br>        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.0.0.jar:7.0.0]<br>Caused by: org.elasticsearch.http.BindHttpException: Failed to bind to [9200]<br>        at org.elasticsearch.http.AbstractHttpServerTransport.bindAddress(AbstractHttpServerTransport.java:175) ~[elasticsearch-7.0.0.jar:7.0.0]</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">你可以尝试启动时为每个实例指定一个不冲突的端口，看看是否能解决这个问题？<br></p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/f0/8f/ca9fded0.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">~尘曦~</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师按照您的方法在centos 7.6 启动集群的时候报这个：OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br></div> <span class="time">2019-07-02</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/7f/88/c4263c58.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">五年</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">这个版本需要jdk11吗？</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">https://www.elastic.co/cn/support/matrix#matrix_jvm<br><br>你可以查看这个页面。答案是 8和11都可以</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/3c/a2/1b43c4cd.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">张琦</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">bin/elasticsearch -E node.name=node0 -E cluster.name=geektime -E path.data=node0_data 命令行这样启动是在同一个elasticsearch可以启动多个实例吗？我用这种命令行启动 报错<br>root@zhangqi:/usr/share/elasticsearch# bin/elasticsearch -E node.name=node0 -E cluster.name=zhangqi -E path.data=node0_data<br>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>[2019-07-01T22:32:11,312][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [node0] uncaught exception in thread [main]<br>org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root<br>	at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:163) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.2.0.jar:7.2.0]<br>Caused by: java.lang.RuntimeException: can not run elasticsearch as root<br>	at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:105) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:172) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.2.0.jar:7.2.0]<br>	... 6 more<br></div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">在linux上不建议使用root运行elasticsearch。你可以在我给其他同学的恢复中，看到解决方法</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/83/ac/eb006675.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">会飞的蜗牛</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师  我在windows中的cmd中  直接输入设置单节点集群失败   我是缺少了什么步骤么   显示:ERROR: setting [node.name] already set, saw [node0] and [node1]</div> <span class="time">2019-07-01</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/02/8f/7206f468.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">FlySheep_ly</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">按照讲的方法进行集群部署，不成功啊，需要什么额外配置吗？</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">你那里后台抱什么错？请把你os版本，出错信息都提供出来</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/10/a8/42a4f1f4.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">叶昊</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">唉，真羡慕能在线安装的，不用单独下几个插件包离线安装了。老师讲的很好👍</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">有不少同学反映下载速度的问题。这是我没有考虑到的。我明天把相关的软件 下载并上传百度网盘。分享给大家</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/d3/0e/c057ff45.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">远方</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师 官网下载很慢 不动  有什么好的解决方法吗</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">我明天抽空下载并上传到百度网盘后更新链接</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/03/9d/a245af6a.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">末北。</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，请问一下集群启动的时候端口都一样吗？不需要做其他额外的配置吗？我看你视频里是直接启动的。</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">dev模式下可以不指定，会在指定范围内自动分配不重复的端口/</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/92/37/5f24ddc2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">秋细雨</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师你的这个命令行工具叫啥</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">iterm加zsh</p> <p class="reply-time">2019-07-01</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/25/e7/a6f86eb9.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">一忆 Vincent</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，后面会讲解：老版本的集群如何升级到新版本吗？</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">会讲rolling upgrade和full restart的upgrade</p> <p class="reply-time">2019-07-01</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/c1/9b/8a64cd39.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Oven</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">回老师，我是提问的安装不上es的，在cent os7.2上安装，jdk1.8</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">报了什么错？<br><br>https://www.elastic.co/guide/en/elasticsearch/reference/7.1/targz.html</p> <p class="reply-time">2019-07-01</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/ea/5e/79dd13b5.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Mr.</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师您好，不知老师能否具体讲解一下elasticsearch .yml文件的配置信息，还有bin/elasticsearch -E node.name=node0 -E cluster.name=geektime -E path.data=node0_data  其中的node0_data  是在哪进行配置的，不知老师能否进行一次单机多实例的演示？并结合演示过程和您在生产环境中的应用讲解一下elasticsearch .yml文件的配置信息</div> <span class="time">2019-06-30</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">1，生产环境的一些配置，会在后续课程讲解<br>2. https://www.elastic.co/guide/en/elasticsearch/reference/current/important-settings.html 一些配置的的文档<br><br>3. 课程中的 -E 是通过命令行加入的配置项，应该在elasticsearch.yml  中都有对应</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/38/a6/2d85dcbe.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Aug</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">{"error":{"root_cause":[{"type":"master_not_discovered_exception","reason":null}],"type":"master_not_discovered_exception","reason":null},"status":503}<br><br><br><br>老师我使用多实例启动一直报错，是配置文件要修改什么东西嘛</div> <span class="time">2019-06-30</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/46/38/6a4df2eb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">三少爷</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师, 关于分词插件, ik还是中文分词的优先选择吗?</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">第二章，我会有一节课讲中文分词。在我看来，还是要选合适的。hanlp也不错的</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/46/38/6a4df2eb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">三少爷</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师你好, 我的环境是VMWare上安装的CentOS 64 Bit, JDK 8<br>Elasticsearch 7.1.1, 配置如下<br>vi /opt/elasticsearch-7.1.1/config/elasticsearch.yml<br>node.name: node-search<br>network.host: 192.168.102.109<br>http.port: 9200<br>discovery.seed_hosts: ["192.168.102.109"]<br>cluster.initial_master_nodes: ["node-search"]<br><br>单机多节点启动时报9200端口冲突<br>先起了一个节点<br>bin/elasticsearch<br>然后<br>bin/elasticsearch -E cluster.name=sexyuncle -E node.name=node1 -E path.data=node1_data -d<br>这个节点启动失败, 端口号冲突<br>指定不同端口号可以正常启动<br>bin/elasticsearch -E cluster.name=sexyuncle -E node.name=node1 -E path.data=node1_data -E http.port=9201<br>但是访问http://192.168.102.109:9200/_cat/nodes只看到第一个节点<br>访问http://192.168.102.109:9201/_cat/nodes 报未找到master 节点错误, 请问像您那样在单机运行多个节点并通过_cat/nodes可以看到所有节点, 还需要做什么配置吗?<br><br>[2019-06-29T21:18:09,784][WARN ][r.suppressed             ] [node1] path: /_cat/nodes, params: {}<br>org.elasticsearch.discovery.MasterNotDiscoveredException: null<br>        at org.elasticsearch.action.support.master.TransportMasterNodeAction$AsyncSingleAction$4.onTimeout(TransportMasterNodeAction.java:259) [elasticsearch-7.1.1.jar:7.1.1]<br>        at org.elasticsearch.cluster.ClusterStateObserver$ContextPreservingListener.onTimeout(ClusterStateObserver.java:322) [elasticsearch-7.1.1.jar:7.1.1]<br>        at </div> <span class="time">2019-06-29</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">响雨</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">很多人遇到安装报Exception in thread "main" java.nio.file.AccessDeniedException: /home/python/Desktop/elasticsearch-7.2.0/config/jvm.options<br>错误的原因是当前用户没有权限哦。<br>需要chown 用户名 elasticsearch安装目录 -R 赋予权限哦。另外不要用root管理员安装。</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">谢谢你的分享！</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/02/3f/af741225.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">用心创造快乐</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，我在github上clone时，发现 3.10-DynamicMapping和常见字段类型 项是不是有空格，clone时报错 Clone succeeded, but checkout failed</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">谢谢你，我已经fix并且提交了</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/fe/fd/88bc5bbf.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">gcc帅</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，关于elasticsearch安装，运行bat出现java版本不匹配问题，我想问一下，能不能额外讲解一下如何在本机上同时共存配置多版本的jdk</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">https://blog.csdn.net/YuanMxy/article/details/88096054</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/e8/dc/32e78f02.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">乐凡</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，我的es目录下没有data相关的文件，是要自己手动创建的吗</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">启动时指定，启动后就会自动创建</p> <p class="reply-time">2019-06-29</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLmbTA2Q3STwUFtZqneSichgc4mKGpvlUsSHTfxkAqwn3ib8IE05lFiaD6zxiaOhbQfa7X68OImoEbRUQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">醉猩猩</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师能否指导下怎么找到ELk几个系统中主要yml配置文件的支持配置项详细介绍，找不到详细的相关文档，都不知道有哪些参数可以配，想深入了解和使用</div> <span class="time">2019-06-28</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/76/9a/5b80c066.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">onebird</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd"><br>对于初次接触ES的同学，可以先选择在笔记本电脑上配置，暂时无需先去花费时间学习生产环境的配置。生产环境的安装配置以及性能优化，我们会在第三阶段中讲解<br><br>不同平台的安装文档<br>https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html<br></div> <span class="time">2019-06-28</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLmbTA2Q3STwUFtZqneSichgc4mKGpvlUsSHTfxkAqwn3ib8IE05lFiaD6zxiaOhbQfa7X68OImoEbRUQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">醉猩猩</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">7.1.1版本 linux 环境中 启动第二个节点 会说端口占用<br>org.elasticsearch.http.BindHttpException: Failed to bind to [9200]<br>Caused by: java.net.BindException: Address already in use<br><br>这是哪里版本变动了吗 跟视频里的版本效果不一样啊</div> <span class="time">2019-06-28</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">一缕微光</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，你好 win10系统 每次都有个提示 <br>future versions of Elasticsearch will require Java 11; your Java version from [D:\Program Files\Java\jdk1.8.0_212\jre] does not meet this requirement<br>因为电脑装了Apache JMeter配置的java环境。不影响ES使用。 不是说它自带java环境吗，怎么检测到我本地的配置的，我需要修改什么吗</div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">估计它会先去检测java_home，如果有，就使用你的java环境</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/0e/61/ae68f8eb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">dream</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，你好！请教一下  es jvm 中添加 -XX:-AssumeMP   配置的作用是什么？配置项AssumeMP  的作用是什么啊？</div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/9e/c8/d261f700.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">yswang</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，我的是 CentOS7.5 + JDK1.8.0_144，执行启动  bin/elasticsearch 失败，报错：<br>can not run elasticsearch as root<br><br>网上查了下，说， es 不能使用 root 用户启动，是这样的吗？<br>该如何解决？</div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">我记得之前有过回复。用root启动肯定不是推荐的方法。</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLCrSITpN0Dzic0Ao4rYjV8ULicYWCo8I6ROnwt6bk0VibX8ibJicnUo1JkYRPPlpVc1uqf7XaXicDwqpUPw/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">kofssl</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师你好，ES水平扩展时，集群节点个数大于7个，协调节点是否必须分配，如果分配，是否要多个协调节点，如果只分配一个协调节点，如果协调节点挂掉，是否会导致整个集群挂掉，对于水平扩展集群，协调节点，主节点，数据节点是否有典型的分配，包括资源配置</div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">关于如何做水平扩展，和生产环境的部署，会在第二部分第三部分做讲解。<br><br>1）如果你的集群， 查询和聚合的 的负载很高。你可以配置多个 dedicated 的协调节点。然后将这些节点配置在 Loader Balancer后，以 Round Robin 的方式处理查询请求。<br><br>2） 如果只分配一个协调节点，从服务高可用的角度，肯定不是一个好的做法。你也说了，这样，万一节点重启或者挂掉，都会影响服务的可用性。<br><br>3）对于 Load 不高的集群，你可以将每个节点都配置成同时承担 Coordinate + Data + Master 多个角色。一方面满足数据的水平扩展，一方面可以兼顾服务的高可用。</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/38/a6/2d85dcbe.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Aug</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师我安装插件一直报这个错<br>future versions of Elasticsearch will require Java 11; your Java version from [/usr/local/java/jdk1.8.0_181/jre] does not meet thequirement<br></div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">你安装的是什么插件？ ICU-analysis？ 这个错，提示的是，你的插件，编译成java 11的class格式了。但是你本机的JDK还是JDK 8，所以，升级 JDK 到 11，就可以解决这个问题</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/2a/26/c6e7a158.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">何不食夜糜</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师您好 我在安装插件的时候 出现了报错 但是最后还是安装成功了 您看一下这是什么原因<br>WARNING: An illegal reflective access operation has occurred<br>WARNING: Illegal reflective access by org.bouncycastle.jcajce.provider.drbg.DRBG (file:/Users/xzz/Desktop/elasticsearch-7.2.0/lib/tools/plugin-cli/bcprov-jdk15on-1.61.jar) to constructor sun.security.provider.Sun()<br>WARNING: Please consider reporting this to the maintainers of org.bouncycastle.jcajce.provider.drbg.DRBG<br>WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations<br>WARNING: All illegal access operations will be denied in a future release</div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/7d/3c/fdab3611.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">灰</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">-d 参数在windows不能后台运行，要开多个terminal才能多node运行。如果打算用windows应该怎么处理。</div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">生产环境中，可以用 Service 的方式在后台运行。<br>https://www.elastic.co/guide/en/elasticsearch/reference/7.1/windows.html<br><br>在本机测试学习，开多个 terminal 我觉得就可以了</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">scilife</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">请老师帮忙看下，启动报错：[ERROR][o.e.b.Bootstrap          ] [node-***.***.***.***] node validation exception<br>[1] bootstrap checks failed<br>[1]: granting the all permission effectively disables security-----运行前赋予权限了，这个原因是？怎么解决呢？谢谢</div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/ce/b8/92178ccd.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ECHO</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">我启动集群后，失败，出现如下错误：<br>master not discovered yet, this node has not previously joined a bootstrapped<br><br>为什么老师你启动没有这个问题？是不是还有什么前提配置条件？</div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/ea/21/13f7071a.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">于曦程</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师好，ES插件支持定制化查询结果吗？例如我需要在命中的结果集中过滤掉不符合标准的数据，而这个标准需要根据查询请求参数和ES里的数据动态计算出来。这种需求可以实现吗？</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">ES 支持查询和过滤，会在第二部分详解讲解。<br><br>过滤不需要考虑算分，性能比较好。查询会根据 TF-IDF 作出相关性算分</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">旺旺</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">以<br>-d, --daemonize       Starts Elasticsearch in the background                    <br>启动的Elasticsearch，如何关闭呢，直接kill 掉吗？</div> <span class="time">2019-06-26</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/f8/22/a59136c2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">菲戈</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师, JVM参数的调优可以讲解下吗? 还是全部都默认? </div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">刚开始学习，就用默认的把，后续会有生产环境相关的配置讲解</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/8a/96/7b92b28f.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">迹_Jason</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师我想问一下，有什么方式将hbase 数据同步到es吗</div> <span class="time">2019-06-26</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/8a/96/7b92b28f.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">迹_Jason</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师我想问一下 hbase的数据能同步到hbase吗</div> <span class="time">2019-06-26</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/ed/e9/73da937c.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">小小烟波</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师我在windows上面是正常启动的es 和 kibana<br>我在Linux启动出现错误<br>future versions of Elasticsearch will require Java 11; your Java version from [/usr/java/jdk1.8.0_161/jre] does not meet this requirement<br>Exception in thread "main" java.lang.RuntimeException: starting java failed with [137]<br>output:<br><br>error:<br><br>	at org.elasticsearch.tools.launchers.JvmErgonomics.flagsFinal(JvmErgonomics.java:111)<br>	at org.elasticsearch.tools.launchers.JvmErgonomics.finalJvmOptions(JvmErgonomics.java:79)<br>	at org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:57)<br>	at org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:89)</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">你的Linux 上没有安装设置好 JDK，装的是 JRE /jdk1.8.0_161/jre] does not meet this requirement<br><br>支持的JDK版本<br>https://www.elastic.co/cn/support/matrix#matrix_jvm</p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/ed/e9/73da937c.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">小小烟波</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师我的es启动会显示<br>future versions of Elasticsearch will require Java 11; your Java version from [\XXX\XXX\jdkXX\jre] does not meet this requirement<br>windows 和 Linux 都显示这个东西。<br>路径是本机安装的Java路径</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">1） 确保你安装了 JDK(Not JRE) 并且设置了正确的 JAVA_HOME<br>2) ES java 版本的support matrix 可以参考 <br>https://www.elastic.co/cn/support/matrix</p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/44/91/a4452c78.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Y</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">本机运行多实例 报错：Could not rename file ......</div> <span class="time">2019-06-26</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/e4/49/a7f75e0c.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">孙建中</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，您好，如果目前有abc三张表，能否把这三张表的数据导入到es，然后根据任意词进行搜索，如果该词在三表中都存在，能否把三条记录一次性搜出来？感觉是可以，但不知道怎么导入数据</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">先回答你如何导入数据。<br>1. 你可以通过代码，将数据从数据库中读出，然后调用 ES 的 REST API，调用课程中的 Index 或 Create API，写入数据。如果考虑到性能，你可以批量读取你的数据库数据，然后用 bulk API 将数据写入 ES<br>2. 你可以使用 Logstash 的 JDBC Input Plgunin<br>https://www.elastic.co/guide/en/logstash/current/plugins-inputs-jdbc.html <br>通过配置，将数据从数据库中读出，写入 ES<br><br>回答一下你关于搜索的问题<br>1. 我不知道你的数据库的表结构，所以不能给出你具体的设计。 你可以吧三张表的信息写入同一个索引。也可以每张表对应一个索引。ES 的查询，支持指定多个index，对几个索引一次性查出<br>例如 POST index1,index2,index3/_search<br></p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/ad/45/f555c6dd.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">an_time</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">原来机器上已经安装了jdk，es中集成了jdk会不会与原来的冲突</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">应该不会的，ES 并不会修改你本机上的java home和path。</p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/ad/45/f555c6dd.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">an_time</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">原来机器上已经安装过jdk了，但是es里面集成了jdk，这样是不是会引起冲突啊</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">不会的，一个人机器上可以有多个jdk。es不会修改你本机的java home。所以，你还是可以使用你的jdk开发和运行程序</p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/6uxdSyhE7o3V1qHVaucicIlT4Emh6TrrVK40QQhltB3Ac1QAgj24uJsf3nLzJlXiaSJgDoYUGqpZfXBEPGyJQZQg/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">黑暗天使</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师，es集群与集群间的数据同步，开源方案上有什么方案来实现跨机房的不同集群间数据复制</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">开源的方案我倒是不清楚。 xpack 提供的是 CCR<br><br>https://www.elastic.co/guide/en/elastic-stack-overview/master/ccr-overview.html</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/48/ff/1967cdbb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">卖轮子</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">简单明了 </div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">集群只需要一个节点就可以运行。如果你的索引replica设置为1，你最少需要2个节点，保证有机器可以保存replica数据。至于你说的3个节点，我不知道这个数字是怎么得出的，我猜测是，在生产环境中，一般采用3个master节点的配置，同时把最小的选举数设置为2，避免出现脑裂的状况。</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/60/4e/eb2bfaae.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">虚拟边缘</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">老师您好！请问下，我们现在使用的是5.6.x版本的es，有必要升级高版本么？对于您这里讲的内容，5.6.x版本都适用么？</div> <span class="time">2019-06-24</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">我并不建议你一味追求使用最新的版本。<br><br>在课程中，我使用最新版本，是确保大家所学的都是最新的知识。在课程中我也对一些 deprecated的API 做了强调，例如单个索引已经不支持多个type。<br><br>ES有一个软件版本eol的页面，单纯从版本上看，5.6已经eol了…<br>https://www.elastic.co/cn/support/eol<br><br>但是考虑到升级还会牵涉到代码的改动，我建议你先做评估，再做一些测试。性能测试，es也有每个版本之间的benchmark报告提供用户查看对比</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/3d/0c/6c40bc69.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">nick</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">更新完了莫</div> <span class="time">2019-06-24</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">应该会定期更新的</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/3c/1c/61574ad3.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">奔跑式前进</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont"></i> <span>0</span></a></div>
	</div>
	<div class="bd">有hive创建ES的外部表的教程么</div> <span class="time">2019-06-24</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont"></i> <span>作者回复</span></div> 
	<p class="reply-content">暂时没有安排这方面的内容，如果有很多人有同样的需要，可以考虑增加一些特定的主题</p> <p class="reply-time">2019-06-24</p>
	</div>
</div>
</li></ul></div></div><div data-v-4e11b9bf=""></div></div></div><link href="https://cdn.bootcss.com/dplayer/1.25.0/DPlayer.min.css" rel="stylesheet"><script src="https://cdn.bootcss.com/hls.js/0.10.1/hls.min.js"></script><script src="https://cdn.bootcss.com/dplayer/1.25.0/DPlayer.min.js"></script><script>            const dp = new DPlayer({                container: document.getElementById('DplayerCont'),                video: {                    url: 'https://media001.geekbang.org/fac33e646db84b10bc51b2bf90e8f106/70b3cea8fd3a467cadea43330e689720-79f30d77d8bda5eb2377ec885eb755ff-hd.m3u8',                    type: 'hls'                }            });</script></body></html>