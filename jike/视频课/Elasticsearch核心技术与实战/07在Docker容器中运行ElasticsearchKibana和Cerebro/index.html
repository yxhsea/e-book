<html class="cye-disabled cye-lm"><head><meta charset="utf-8"><meta name="referrer" content="no-referrer"><meta name="Keywords" content="æå®¢æ—¶é—´,æå®¢é‚¦,æå®¢é‚¦ç§‘æŠ€,æå®¢é‚¦æ§è‚¡,æå®¢æ—¶é—´App,ä¸“æ è®¢é˜…,æå®¢æ–°é—»,äºŒå‰æ ‘,æå®¢Live,QCon,å·¦è€³å¬é£,AIæŠ€æœ¯å†…å‚,å¤§èˆªæµ·æ—¶ä»£,é™ˆçš“,å¾é£,æ´ªäº®åŠ¼,éœæ³°ç¨³,æ± å»ºå¼º,Selina,Gary,InfoQ,æå®¢æœç´¢"><meta name="description" content="æå®¢æ—¶é—´æ˜¯æå®¢é‚¦ç§‘æŠ€å‡ºå“çš„ä¸€æ¬¾ IT å†…å®¹çŸ¥è¯†æœåŠ¡ Appï¼Œå†…å®¹åŒ…å«ä¸“æ è®¢é˜…ã€æå®¢æ–°é—»ã€çƒ­ç‚¹ä¸“é¢˜ã€ç›´æ’­ã€è§†é¢‘å’ŒéŸ³é¢‘ç­‰å¤šå½¢å¼çš„çŸ¥è¯†å†…å®¹ï¼Œå¹¶è®¾æœ‰é™ˆçš“ä¸“æ ã€å¾é£ä¸“æ ã€æ´ªäº®åŠ¼ä¸“æ ç­‰ä¸“æ ä¾›è®¢é˜…ã€‚"><link rel="apple-touch-icon" sizes="180x180" href="http://static001.geekbang.org/static/icon/time/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="http://static001.geekbang.org/static/icon/time/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="http://static001.geekbang.org/static/icon/time/favicon-16x16.png"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover"><meta name="format-detection" content="telephone=no"><title>07 | 	åœ¨Dockerå®¹å™¨ä¸­è¿è¡ŒElasticsearch Kibanaå’ŒCerebro</title><link href="https://static001.geekbang.org/static/time/css/app.b230db929e53af87acd535637f5011b8.css" rel="stylesheet"><style type="text/css">        @font-face {            font-family: player-font;            src: url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.eot");            src: url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.eot?#iefix") format("embedded-opentype"), url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.woff") format("woff"), url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.ttf") format("truetype"), url("//at.alicdn.com/t/font_509397_9fpjwjp73uqsemi.svg#player-font") format("svg")        }        .player-font {            font-family: player-font !important;            font-size: 16px;            font-style: normal;            -webkit-font-smoothing: antialiased;            -webkit-text-stroke-width: .2px;            -moz-osx-font-smoothing: grayscale        }        .vplayer {            position: relative;            overflow: hidden        }        .vplayer,        .vplayer video {            width: 100%        }        .vplayer .title {            position: absolute;            top: 1rem;            left: 1rem;            right: 1rem;            color: #fff;            font-weight: 400;            font-size: .875rem;            word-break: break-all;            display: -webkit-box;            overflow: hidden;            text-overflow: ellipsis;            -webkit-box-orient: vertical;            -webkit-line-clamp: 1        }        .vplayer .finish-control,        .vplayer .loading {            position: absolute;            top: 0;            left: 0;            background: rgba(0, 0, 0, .5);            color: #fff;            width: 100%;            height: 100%;            z-index: 2;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center        }        .vplayer .finish-control h3,        .vplayer .loading h3 {            position: absolute;            color: #fff;            top: 1rem;            left: 50%;            font-size: 1rem;            font-weight: 400;            -webkit-transform: translate(-50%);            transform: translate(-50%)        }        .vplayer .finish-control p,        .vplayer .loading p {            cursor: pointer;            max-height: 6rem;            text-align: center        }        .vplayer .finish-control .cancel-next,        .vplayer .loading .cancel-next {            margin-left: 4rem        }        .vplayer .finish-control .cancel-next .icon-cancel-next,        .vplayer .loading .cancel-next .icon-cancel-next {            height: 4rem;            line-height: 4rem;            cursor: pointer;            font-size: 3.5rem        }        .vplayer .finish-control .cancel-next .icon-cancel-next i,        .vplayer .loading .cancel-next .icon-cancel-next i {            position: absolute;            top: 0;            left: 0;            margin-left: 8px        }        .vplayer .finish-control .icon-replay,        .vplayer .loading .icon-replay {            height: 4rem;            cursor: pointer;            line-height: 4rem;            font-size: 3rem        }        .vplayer .finish-control {            background: #000        }        .vplayer .no-wifi {            width: 70%;            position: absolute;            left: 50%;            top: 50%;            padding: 1rem;            background: rgba(0, 0, 0, .8);            -webkit-transform: translate(-50%, -50%);            transform: translate(-50%, -50%);            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: vertical;            -webkit-box-direction: normal;            -ms-flex-direction: column;            flex-direction: column;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            z-index: 3        }        .vplayer .no-wifi p {            line-height: 1.5rem;            margin: 0 auto;            width: 60%;            color: #fff;            font-size: 1rem;            text-align: center        }        .vplayer .no-wifi p span {            font-size: .875rem        }        .vplayer .no-wifi div {            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1;            margin-top: 1rem        }        .vplayer .no-wifi div a {            color: #fff;            background: #ff5a05;            padding: .3rem .5rem        }        .vplayer .no-wifi div a:last-child {            margin-left: 1rem        }        .vplayer .buy {            position: absolute;            z-index: 4;            top: 0;            left: 0;            width: 100%;            height: 100%;            color: #fff;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: vertical;            -webkit-box-direction: normal;            -ms-flex-direction: column;            flex-direction: column;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            background: #000        }        .vplayer .buy p {            text-align: center        }        .vplayer .buy p span {            color: #ff5a05        }        .vplayer .buy .btn {            margin-top: 1rem;            color: #fff;            background: #ff5a05;            padding: .3rem 1.5rem        }        .android .dplayer .dplayer-controller .dplayer-icons .dplayer-full,        .dplayer-setting-item.dplayer-setting-loop {            display: none        }</style><style type="text/css">        .MathJax_Display {            overflow: auto        }        .poster {            position: fixed;            left: -10000px;            top: -10000px;            overflow: hidden;            padding: 1rem;            background: #ececec        }        .richcontent-pre-copy {            font-size: 13px;            color: #888;            position: absolute;            right: 1em;            top: .2em;            cursor: pointer;            -webkit-user-select: none;            -moz-user-select: none;            -ms-user-select: none;            user-select: none        }        .richcontent-pre-copy .iconfont {            font-size: 12px;            margin-right: .2em        }</style><style type="text/css">        .bottom {            width: 100%;            background-color: #f5f5f5;            position: fixed;            bottom: 0;            left: 0;            z-index: 10        }        .bottom,        .bottom .bottom-wrapper {            height: 67px;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row        }        .bottom .bottom-wrapper {            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1;            padding-left: 20px;            padding-right: 20px;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between        }        .bottom .bottom-wrapper a {            height: 48px;            line-height: 51px;            -webkit-box-sizing: border-box;            box-sizing: border-box        }</style><style type="text/css">        .breadcrumb {            padding: 30px 0;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -ms-flex-wrap: wrap;            flex-wrap: wrap;            background: #fff        }        .breadcrumb a.title {            color: #e57c39;            font-size: 15px;            font-weight: 400        }        .breadcrumb span.title {            color: #888;            font-size: 15px;            font-weight: 400        }        .breadcrumb .split {            color: #ccc;            font-size: 10px;            margin-right: 5px        }</style><style type="text/css">        .course-detail[data-v-4e11b9bf] {            max-width: 46.25rem;            margin: 0 auto;            background: #f5f5f5        }        .course-detail .course-main[data-v-4e11b9bf] {            background-color: #fff;            width: 100%;            z-index: 10;            top: 0;            left: 0        }        .course-detail .course-info[data-v-4e11b9bf] {            background: #fff;            cursor: pointer        }        .course-detail .course-info .course-info-top[data-v-4e11b9bf] {            padding: 1rem 0 .4rem .78125rem;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center        }        .course-detail .course-info .course-info-top h1[data-v-4e11b9bf] {            font-size: 1.03125rem;            font-weight: 400;            text-align: justify-content        }        .course-detail .course-info .course-info-top i[data-v-4e11b9bf] {            font-weight: 400;            width: 40px;            padding-right: .78125rem;            -ms-flex-negative: 0;            flex-shrink: 0;            text-align: right;            color: #dadada        }        .course-detail .course-info .course-info-bottom[data-v-4e11b9bf] {            padding: 0 54px .5rem .78125rem;            border-bottom: 1px solid #e8e8e8;            color: #888;            font-size: .78125rem        }        .course-detail .course-info .course-info-bottom .icon-course-play[data-v-4e11b9bf] {            color: #d9d9d9;            font-size: .75rem        }        .course-detail .video-list[data-v-4e11b9bf] {            background: #fff;            width: 100%;            overflow: hidden;            overflow: auto;            -webkit-overflow-scrolling: touch        }        .course-detail .video-list ul[data-v-4e11b9bf] {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            padding: .875rem 0        }        .course-detail .video-list ul li[data-v-4e11b9bf] {            margin-left: .71875rem;            position: relative;            border: 1px solid #e8e8e8;            border-radius: 3px;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            height: 4.0625rem;            overflow: hidden;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            font-size: .78125rem;            -ms-flex-negative: 0;            flex-shrink: 0;            line-height: 1rem;            -webkit-transition: border .5s ease;            transition: border .5s ease        }        .course-detail .video-list ul li img[data-v-4e11b9bf] {            width: 1.78125rem;            height: .84375rem;            position: absolute;            top: 0;            left: 0        }        .course-detail .video-list ul li a[data-v-4e11b9bf] {            -webkit-transition: color .5s ease;            transition: color .5s ease;            padding: 0 .5rem        }        .course-detail .video-list ul li a[data-v-4e11b9bf]:link,        .course-detail .video-list ul li a[data-v-4e11b9bf]:visited {            color: #353535        }        .course-detail .video-list ul li.on[data-v-4e11b9bf] {            border-color: #ff5a05        }        .course-detail .video-list ul li.on a[data-v-4e11b9bf]:link,        .course-detail .video-list ul li.on a[data-v-4e11b9bf]:visited {            color: #ff5a05        }        .article-title[data-v-4e11b9bf] {            color: #353535;            font-weight: 400;            line-height: 1.65rem;            font-size: 1.34375rem        }        .article-info[data-v-4e11b9bf] {            color: #888;            font-size: .9375rem;            margin-top: 1.0625rem        }        .article-content[data-v-4e11b9bf] {            margin-top: 1.0625rem        }        .audio-player[data-v-4e11b9bf] {            width: 100%;            margin: 20px 0        }        .content-box[data-v-4e11b9bf] {            padding: 1px 1.3125rem;            background-color: #fff;            margin-top: .46875rem        }        .to-comment[data-v-4e11b9bf] {            overflow: hidden;            padding-top: 20px;            margin: 0 1.3125rem -10px        }        .to-comment a.button-primary[data-v-4e11b9bf] {            float: right;            height: 20px;            font-size: 12px;            line-height: 20px;            padding: 4px 8px;            cursor: pointer        }        .extra[data-v-4e11b9bf] {            margin-top: .46875rem;            margin-bottom: 67px;            background: #fff;            position: relative        }        .extra .video-comment-box[data-v-4e11b9bf] {            position: absolute;            width: 100%;            top: 0;            left: 0;            z-index: 3;            -webkit-box-sizing: border-box;            box-sizing: border-box;            background: #fff;            padding-left: 1rem;            padding-right: 1rem;            padding-top: .5rem        }        .extra .video-comment-box h3[data-v-4e11b9bf] {            color: #353535;            font-size: .875rem;            line-height: 2rem;            font-weight: 400        }        .extra .comments[data-v-4e11b9bf] {            margin: 0 1.3125rem;            padding-bottom: 50px        }        .extra .comments h2[data-v-4e11b9bf] {            text-align: center;            color: #888;            position: relative;            z-index: 1;            margin-bottom: 14px        }        .extra .comments h2[data-v-4e11b9bf]:before {            border-top: 1px dotted #e8e8e8;            content: "";            position: absolute;            top: 50%;            left: 0;            width: 100%;            z-index: -1        }        .extra .comments h2 span[data-v-4e11b9bf] {            font-size: 15.25px;            font-weight: 400;            padding: 16px 1rem;            background: #fff;            display: inline-block        }        .extra .comments .no-comment[data-v-4e11b9bf] {            text-align: center        }        .extra .comments .no-comment i.icon-cat[data-v-4e11b9bf] {            color: #f5f5f5;            font-size: 100px;            line-height: 1.2;            margin-right: 12px        }        .extra .comments .no-comment .no-comment-text[data-v-4e11b9bf] {            color: #e8e8e8;            font-size: 12.5px;            line-height: 1.6        }        .bottom[data-v-4e11b9bf] {            position: fixed;            bottom: 0;            left: 0;            width: 100%;            height: 67px;            background: #fff;            background-color: #f5f5f5;            z-index: 10        }        .bottom .buy-join[data-v-4e11b9bf],        .bottom[data-v-4e11b9bf] {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center        }        .bottom .buy-join[data-v-4e11b9bf] {            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            height: 48px;            line-height: 48px        }        .bottom .buy-join span[data-v-4e11b9bf] {            line-height: 48px;            margin-left: 5px;            color: hsla(0, 0%, 100%, .5);            font-size: 11px;            text-decoration: line-through        }        .bottom .button-cancel[data-v-4e11b9bf] {            height: 51px;            line-height: 51px        }        .bottom-control[data-v-4e11b9bf],        .bottom-sub[data-v-4e11b9bf] {            width: 100%;            -webkit-box-orient: horizontal;            -ms-flex-direction: row;            flex-direction: row;            -ms-flex-pack: distribute;            justify-content: space-around;            -webkit-box-sizing: border-box;            box-sizing: border-box;            padding: 0 1.3125rem        }        .bottom-control .item[data-v-4e11b9bf],        .bottom-control[data-v-4e11b9bf],        .bottom-sub .item[data-v-4e11b9bf],        .bottom-sub[data-v-4e11b9bf] {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-direction: normal        }        .bottom-control .item[data-v-4e11b9bf],        .bottom-sub .item[data-v-4e11b9bf] {            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1;            -webkit-box-orient: vertical;            -ms-flex-direction: column;            flex-direction: column;            -webkit-box-pack: center;            -ms-flex-pack: center;            justify-content: center;            cursor: pointer        }        .bottom-control .item i[data-v-4e11b9bf],        .bottom-sub .item i[data-v-4e11b9bf] {            color: #353535;            font-size: 1.125rem;            line-height: 1.5rem        }        .bottom-control .item span[data-v-4e11b9bf],        .bottom-sub .item span[data-v-4e11b9bf] {            color: #888;            font-size: 11px        }        .button-subscribe[data-v-4e11b9bf] {            -webkit-box-flex: 1;            -ms-flex: 1;            flex: 1;            height: 69px;            color: #fff;            font-size: 15.25px;            text-align: center;            background-color: #ff5a05;            line-height: 69px;            border-radius: 5px        }        .article-sub-bottom[data-v-4e11b9bf] {            z-index: 2        }        @media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) {            .bottom[data-v-4e11b9bf],            .comments[data-v-4e11b9bf] {                padding-bottom: 34px            }        }        @media (max-width:769px) {            .course-detail .breadcrumb[data-v-4e11b9bf] {                padding: 10px            }        }        @media screen and (min-width:768px) {            .extra .comments[data-v-4e11b9bf],            .to-comment[data-v-4e11b9bf] {                margin: 0 0 -10px            }        }</style><style type="text/css">        .mobile-tips {            width: 100%;            height: 51px;            background: rgba(0, 0, 0, .8);            position: fixed;            top: 0;            left: 0;            z-index: 20;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between;            -webkit-box-sizing: border-box;            box-sizing: border-box;            padding: 0 12px;            -webkit-transition: opacity .35s;            transition: opacity .35s;            opacity: 0;            pointer-events: none        }        .mobile-tips.istop {            opacity: 1;            pointer-events: auto        }        .mobile-tips .mobile-tips-info {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            -webkit-box-pack: start;            -ms-flex-pack: start;            justify-content: flex-start        }        .mobile-tips .mobile-tips-info i {            width: 36px;            height: 36px;            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAYAAAA4E5OyAAAL30lEQVR4Ae2bBXTbStOG/VGZmVJM6lCZmZnplJmZmZkZ/o+Z4TIzM2O5aW+bimWZY8H7jxTnNvax2xQcnnOerHhm351R1rJsO3/+fG2i7uXLlxsGAoE9ABQUETMM42NFUfqZ/Q/qUMtmrqSnpyfquv4Giqb5yRaTDvVMUWxXrlxpRGK8i6JtAa/XO94Uxaaq6mEUm2nczZs3k2wAXLCs2Cg5jttQbNlvsrfDBCk2W96MhA7d54Qm34R662uoNz6z0Jjz0J0sDL/LPKhwC6J7HMi48g7crx6B8qcJkA6kQNzTGNJuk4ZBGkHa0wTSwVQ4/zkH3nd/aQlmBHyFRxCVRt3z1GY49iVB3l0f8kE7lJPtoPyyF5Rf9QnSN5Nf9oXTanvDcaoD5EOJdE4DKEdaw/vWOcoepuAKogppcP1pOqTtcZD3xUM51x3K//WhtncmZ7PoFXk5iMM6pycc+5vSterC/dwu6F5HwRHE0FR4XjgCeUt9KHsT4DxDnTxt0jNID4vgcoRtwfXw4+g6Fvsoa7Y3RMbXz+Z/QTSXSCXRBdK6KlBOdIVyqhe13e9Cj/vfR9d0nuwGeWN1uP+1DIau5k9BAuwViGvqQt6RAMfJ3pCPdoPjoegedbt17RO9IO9KhONQNxgZ3vwlSEb6hUwxdtop4B6QD3cN0iWM0G2OO9vD6BKhDT2OzrV8SXtSIe9tTaJ48ocgqsxAWlELjm2UGUdoVA91zhkHTaJuJ3J4jcPkc1cKHPs7AYaet4LoaoAyIx7i5oaQKXXlA50gRaUjpP0drWPkg7S+pwXE9XEQV9WAsKoWhJXVIa2sCXFdHKTdzcxj6NjOEa9pbdufbdvBrpC22eH808K8FcTxx2UQVlTNDGhfR6JDWEtkrR/oTG178OvqUoc7wP3kHmR8/yY0Pg2ag4Em34aafh7+z56G8pfl4JfVhLCmNsS9bc1zw65tLYdCMYira8L/9Ut5I4jv4kfgZ5eAtJeC23N35P1dIK1vBOXIYAQuvgtDC9w7+9wOeN/+CwneANLaOLpG53v72dcJwtKqMHyu3BVENwxIWztQyjc0R5toH529HSEsqw7f6799wCm/AuXsVKujJP49/NG+zXZ4/rs1dwXxfPIcZUdpKwBxR9sotLNGTVhUDeq1z/Gw5n76JPhZpchnO/PaUf2aMfELK5GQjtwRxDAMiDt7QFhNqbytLdEmBDGr3UlizC0P9frXeFTmevwIhFmlrWuTj6iI6xLge/lc7gjiT78Mfk6FTOdbiK0mrX9sRbPdTiO4tBb8Hz2BR23yyekQF1YlH+2zfGYjGA8NlLw+BdC12Aviev4cxFllIJtibG4dmY2pUE5OQCxM8/vAzakFeZ09un+KTZxfBeqNr2MriK5p4Dd0hLiiEaQNrSKzqQ2ldSVo4i3Eypyv/gXC1NLU+TYRYmhpteLaRLifPBBbQQIiA35mNQjrm0NY1yIya5KgnJiEWJrq94NbYoewKiF6HOtbwHFoeGwF8V36BPyUshDWNo9AC6vl5lSF75NnEEszCPk3KyHMqBA1DrMVlzeFkeGLnSDuj54GN6kUZQE5XN0MPBFsg8vNwU4sCZW/gVib+70nwE8oBX5Nlu9wmlM2V4UmM7ETxPnS78BOLQNuVTNwq7NIvdMS/KLG1qjE2ryXvwQ7uRL5TDb9R4ShDNK467ETRHnqBAlSjgRJjczKJIjr2ltT81ibn7kBblpN8pkYNR5mWnmo6RdjKMiTx8FPLgd+JWXCiuykZLbLswRRkVPTiYDbef+CsDfBTq1JPu2RYyHYqeURSPsqhiXz7C/BTSgNblky+BBSgiSBn98I+n08wZJe+Qe4YVXu+1mGJ+08mIlVyKedSI4IO6kcZcil2AnievNfYMf9AsLS5BB4q02y4Eb9HKqQszmIVxbAjCoJaUZjGOr9lZnrk1fAjSlp+eRD4shaJqZUgSalx04Q75dvgh31U3BLqOOLg4Qts2N+Ad8Xr+NephoGuPX9wJHA0qZu91VmBiH+fT/YkT8L+o8MP7chDL8ndoJkpF8FO7okuEV2IjEyM2rAcXYx7mXyU78F08dG5ZcIaU2n+xIkYADshn5gp1SKHsfiRBK6R2wnZprfC3ZqbXIYTw5DnN9ZX5IIdvjPoDklRDM3z+D2WOrMnLp0nv2+BVG++5RKrTSd2zToP5Iodrj+tDH2H+6kc8vATawAbmFiZBZR2UyoAMeZJVFKBWCWdgZL9c8tSaFzmkK8D0ECBLO6D7ixpiDJUeNgp9ZA4Nt3Yi+I96u3wQy2gTWdLrBHxhwhOsZ34bPw2ofw37NgBtisGmfn28HMj4e4umOOBDEI6aV/gxtE5y+kc7P8zQ/zT7HxMxvAUDNiL4ie4Qc3oTq4eY3BUSARWUCCzIqjwH+KgCwgy1xpF8EM/Bntq2cdYx07Lx7SqpwJolz+HuzQMuCn16LzSdDI/ml7U7j/vCX3HiEqf9sLfvjPIVBQ/Dw7+PlBaFkgeJOFyeAnVabyqmPde1QA7JKO4EaVgLAwhY7JOj4B0sq7C2IQzqsk5mgaiPHlwS9K+dGnkN0/YcbEjSljTtlzTxDV5QAz9GeZWUId4uZHgWqcHV8O3JL24I4uADuhCnXGHnrMvCYkSIeoghiE8u3HYIbQdaz7TnJ0fyYL4qEcnZ77X0Mo/zkGhmqZNVN3bkIm84LMzQZlCju1FtjRpcxUpv32kP3M3CYQV0QXRNMNpE9PBWv6WpRM54T6CPE9PxHMqFLQJSb3BdFVFey4GuCm1qaAqJNzEh4IZnYTCMvv/vlH/Ou+TPHnJYKdHX6+BS1TDNPi4HnseN59c5dx6wqYHjYKMp6g0Z+VQC1BbdTl8G0zG99TkIDPC2Z0FbBT69J54deMJ0xBmkLaMDTvv+x2v/I3MP1JlLmJFFjTsA5HIUQQypBl7e75X0Z+7LQ1s2XnJZnnhkLb+GkNzGl6/ngdwvmPg2D72qwaZufEmx0NtlnL2QUJbs88jmgMMQeCqH4/zW6rm/ej4PXiM9v5SeAmx0Hjf8hfL8y4/ncCXG8bmLnxYOYkEE0yoXsEa7V3YIkf981uRCXTLmfzkFf/DaYn+Zhvz/Rh/oeb0hi6mJ4/X6nymOVDorBT48yaDtY3MdNsw5iZ1VKGLM2ZIFogQFlSmzKiJtjpDei8ztAVIX+/dJdx/TzEGSnghpUAT6LwVOMcddxiZpBZ2ZjRGFIOBTHN+enrYFNKwP3LtQCMgvFapqHrcD/9S3CDK4IbUwHc7AQiKEw4M0mQZff32FGT2IL54q7mkuH+7zGIUxuBHfoLcFPrkTDZxcgURJxtv/8PYgVJkAyfF3r2jFED8H/9NpznlkGcmwJ+WGlwQ0uAG18N3JSakGZRyehazq8f/Fq14AgiceCOrYSbvR2xyjWZQ8b5D+F9/Z/w0H8njb2eYyHEWzehPPUHU+SCVTJe+kCW3t4G/tgCKN9+Ap/bjfsdUyP4uNAtyxA+fRPpR+ZBWj7QFKNg3kMC7A2wCTZw5txhcjzYXZMgvPh3OM5/DiebDo/XB59mwK9q8Psz4KV1t0OGkv4DpG8+Bvf8X3F76zgwU+xgaZbq3LaoEPwawiFAGFsHwogS4EaWBdfPBnZoWTAT4sDObgZmcWcwK/uANVnSFczsFmAmNQAzrLw1++WGlwI7siQ8v9lUeH4vo/k8cGwdDn7YL8CZD3RmNQY3tS74idXBjasEbkx5C95cnlAd/NQ64Gc2Aj8vERw9jPa/+IfC+Ysq13+OgutlAz8tDtwce+R5iclsO9gZDSHOaw017dvC/ROzjFuXoWweDI4+IXOTa5kTthDYyZQdk+rC+6+DgK4Xjd/cWcJc+wauP22BNC8VwuiKEKc1gGPbMPhe+gN0l1xoJmb3b7oOzcFD97nz4Uy12LRiQUKSVX/bRn8+QbFZ5nQ6J9ocDscwAP4iXyua9vj58+fjbeYfr9e7ytxWhEvls7S0tOakRWOb+YeId7vdcw3DEItgZjxx7dq1ZqRBE6KRKUiD4Er89evXWwUCgTMkDFvYdTBvoHTPmEz9TsgSg6j///oXgzKZqkEyAAAAAElFTkSuQmCC);            background-position: 0 0;            background-repeat: no-repeat;            background-size: contain;            border-radius: 7px        }        .mobile-tips .mobile-tips-info h2 {            font-size: 15px;            color: #fff;            font-weight: 400;            margin-left: 6px        }        .mobile-tips .mobile-tips-info h2 span {            font-size: 11px        }        .mobile-tips a {            width: 72px;            height: 31px;            text-align: center;            border: 1px solid #ff5a05;            border-radius: 3px;            font-size: 13px;            color: #ff5a05;            line-height: 31px        }</style><style type="text/css">        .comment-item {            list-style-position: inside;            width: 100%;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            margin-bottom: 1rem        }        .comment-item a {            border-bottom: none        }        .comment-item .avatar {            width: 2.625rem;            height: 2.625rem;            -ms-flex-negative: 0;            flex-shrink: 0;            border-radius: 50%        }        .comment-item .info {            margin-left: .5rem;            -webkit-box-flex: 1;            -ms-flex-positive: 1;            flex-grow: 1        }        .comment-item .info .hd {            width: 100%;            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-pack: justify;            -ms-flex-pack: justify;            justify-content: space-between;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center        }        .comment-item .info .hd .username {            color: #888;            font-size: 15.25px;            font-weight: 400;            line-height: 1.2        }        .comment-item .info .hd .control {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center        }        .comment-item .info .hd .control .btn-share {            color: #888;            font-size: .75rem;            margin-right: 1rem        }        .comment-item .info .hd .control .btn-praise {            display: -webkit-box;            display: -ms-flexbox;            display: flex;            -webkit-box-orient: horizontal;            -webkit-box-direction: normal;            -ms-flex-direction: row;            flex-direction: row;            -webkit-box-align: center;            -ms-flex-align: center;            align-items: center;            font-size: 15.25px;            text-decoration: none        }        .comment-item .info .hd .control .btn-praise i {            color: #888;            display: inline-block;            font-size: .75rem;            margin-right: .3rem;            margin-top: -.01rem        }        .comment-item .info .hd .control .btn-praise i.on,        .comment-item .info .hd .control .btn-praise span {            color: #ff5a05        }        .comment-item .info .bd {            color: #353535;            font-size: 15.25px;            font-weight: 400;            white-space: normal;            word-break: break-all;            line-height: 1.6        }        .comment-item .info .time {            color: #888;            font-size: 9px;            line-height: 1        }        .comment-item .info .reply .reply-hd {            font-size: 15.25px        }        .comment-item .info .reply .reply-hd span {            margin-left: -12px;            color: #888;            font-weight: 400        }        .comment-item .info .reply .reply-hd i {            color: #ff5a05;            font-size: 15.25px        }        .comment-item .info .reply .reply-content {            color: #353535;            font-size: 15.25px;            font-weight: 400;            white-space: normal;            word-break: break-all        }        .comment-item .info .reply .reply-time {            color: #888;            font-size: 9px        }</style></head><body style=""><div id="app"><div data-v-4e11b9bf="" class="course-detail"><div class="breadcrumb breadcrumb"><span><a href="#" class="title router-link-active">è®²å ‚</a><span class="split iconfont">î™¦</span></span><span><span class="title">07 | 	åœ¨Dockerå®¹å™¨ä¸­è¿è¡ŒElasticsearch Kibanaå’ŒCerebro</span></span></div><div data-v-4e11b9bf="" class="course-main main" style="position: relative;"><div data-v-4e11b9bf="" class="vplayer" id ="DplayerCont" style="height: 416.25px;"><h2 class="title">                        07 | 	åœ¨Dockerå®¹å™¨ä¸­è¿è¡ŒElasticsearch Kibanaå’ŒCerebro</h2></div></div><div data-v-4e11b9bf="" class="course-info" style="margin-top: 0px;"><div data-v-4e11b9bf="" class="course-info-top"><h1 data-v-4e11b9bf="" class="course-title"></h1><i data-v-4e11b9bf="" class="iconfont">î‡</i></div></div><div data-v-4e11b9bf=""><div data-v-4e11b9bf="" class="content-box"><div data-v-4e11b9bf="" id="article-content" class="typo common-content"><div class="text">                            <p><a href="https://github.com/geektime-geekbang/geektime-ELK/tree/master/part-1/2.3-%E5%9C%A8Docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E8%BF%90%E8%A1%8CElasticsearch%2CKibana%E5%92%8CCerebro">è¯¾ç¨‹Demo</a></p><h1>ç›¸å…³é˜…è¯»</h1><ul>
<li>å®‰è£…Docker <a href="https://www.docker.com/products/docker-desktop">https://www.docker.com/products/docker-desktop</a></li>
<li>å®‰è£… docker-compose <a href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a></li>
<li>å¦‚ä½•åˆ›å»ºè‡ªå·±çš„Docker Image - <a href="https://www.elastic.co/cn/blog/how-to-make-a-dockerfile-for-elasticsearch">https://www.elastic.co/cn/blog/how-to-make-a-dockerfile-for-elasticsearch</a></li>
<li>å¦‚ä½•åœ¨ä¸ºDocker Imageå®‰è£… Elasticsearch æ’ä»¶ - <a href="https://www.elastic.co/cn/blog/elasticsearch-docker-plugin-management">https://www.elastic.co/cn/blog/elasticsearch-docker-plugin-management</a></li>
<li>å¦‚ä½•è®¾ç½® Docker ç½‘ç»œ - <a href="https://www.elastic.co/cn/blog/docker-networking">https://www.elastic.co/cn/blog/docker-networking</a></li>
<li>Cerebro æºç  <a href="https://github.com/lmenezes/cerebro">https://github.com/lmenezes/cerebro</a></li>
</ul><h1>è¯¾ä»¶åœ°å€</h1><p><a href="https://github.com/geektime-geekbang/geektime-ELK/blob/master/part-1/%E5%88%9D%E8%AF%86Elasticsearch.pdf">åˆè¯†Elasticsearch</a></p><!-- [[[read_end]]] --></div></div></div></div><div data-v-4e11b9bf="" class="extra" style="margin-bottom: 1rem;"><div data-v-4e11b9bf="" class="comments"><h2 data-v-4e11b9bf=""><span data-v-4e11b9bf="">ç²¾é€‰ç•™è¨€</span></h2><ul>                        <li data-v-87ffcada="" class="comment-item"><img src="https://wx.qlogo.cn/mmopen/vi_32/l56HXkqMD4hqDg82yiaTr28GSwB1rCasj7n8M65VbibsJwmDibJnrWpw8o0mYGewH6NeD1wGvU6OGdhDG4nzIa9mA/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">LY</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>10</span></a></div>
	</div>
	<div class="bd">è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æ²¡æœ‰ä¿®æ”¹docker-compose.yamlæ–‡ä»¶ï¼Œç›´æ¥å¯åŠ¨çš„ï¼Œeså¯åŠ¨9200ç«¯å£æ­£å¸¸ï¼Œä½†æ˜¯kibanaå¯åŠ¨å¤±è´¥ï¼Œcerebroæ— æ³•é“¾æ¥ http://elasticsearch:9200ã€‚<br>ä¸€ã€kibanaå¯åŠ¨å¤±è´¥ã€‚<br>kibana7           | {"type":"log","@timestamp":"2019-06-25T10:18:08Z","tags":["fatal","root"],"pid":1,"message":"{ Error: Request Timeout after 30000ms\n    at /usr/share/kibana/node_modules/elasticsearch/src/lib/transport.js:355:15\n    at Timeout.<anonymous> (/usr/share/kibana/node_modules/elasticsearch/src/lib/transport.js:384:7)\n    at ontimeout (timers.js:436:11)\n    at tryOnTimeout (timers.js:300:5)\n    at listOnTimeout (timers.js:263:5)\n    at Timer.processTimers (timers.js:223:10)\n  status: undefined,\n  displayName: 'RequestTimeout',\n  message: 'Request Timeout after 30000ms',\n  body: undefined,\n  isBoom: true,\n  isServer: true,\n  data: null,\n  output:\n   { statusCode: 503,\n     payload:\n      { statusCode: 503,\n        error: 'Service Unavailable',\n        message: 'Request Timeout after 30000ms' },\n     headers: {} },\n  reformat: [Function],\n  [Symbol(SavedObjectsClientErrorCode)]: 'SavedObjectsClient/esUnavailable' }"}<br>kibana7           |<br>kibana7           |  FATAL  Error: Request Timeout after 30000ms<br>kibana7           |<br>kibana7 exited with code 1<br><br>äºŒã€cerebro é“¾æ¥ http://elasticsearch:9200 æŠ¥é”™<br>Unexpected response status: [503]</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ çš„ESåœ¨æˆ‘çœ‹æ¥ï¼Œå¹¶æ²¡æœ‰æ­£å¸¸å¯åŠ¨ã€‚æˆ–è€…æ˜¯ Docker ç½‘ç»œæœ‰é—®é¢˜ã€‚ä½ å¯ä»¥è®¿é—®<br><br> http://localhost:9200/_cat/health?v<br>æŸ¥çœ‹é›†ç¾¤çš„æ­£å¸¸çŠ¶æ€ï¼Œæ˜¯å¦ä¸º Greenï¼Ÿ</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä¸šä½™è‰</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>4</span></a></div>
	</div>
	<div class="bd">ä¸ºè¿™ä¸€å°ç»“ï¼Œå†™äº†ä¸‰ç¯‡å¸®åŠ©æ•™ç¨‹ï¼<br><br>https://www.xttblog.com/?p=4402<br>https://www.xttblog.com/?p=4404<br>https://www.xttblog.com/?p=4408<br><br>è¾…åŠ©å¤§å®¶å­¦ä¹ ï¼</div> <span class="time">2019-07-11</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/c9/20/523828a2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">zj</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>3</span></a></div>
	</div>
	<div class="bd">esé›†ç¾¤èµ·ä¸æ¥ã€‚æŠ¥é”™å¦‚ä¸‹ï¼š<br>es7_01            | "stacktrace": ["org.elasticsearch.discovery.MasterNotDiscoveredException: null",<br>es7_01            | "at org.elasticsearch.action.support.master.TransportMasterNodeAction$AsyncSingleAction$4.onTimeout(TransportMasterNodeAction.java:259) [elasticsearch-7.1.0.jar:7.1.0]",<br>es7_01            | "at org.elasticsearch.cluster.ClusterStateObserver$ContextPreservingListener.onTimeout(ClusterStateObserver.java:322) [elasticsearch-7.1.0.jar:7.1.0]",<br>es7_01            | "at org.elasticsearch.cluster.ClusterStateObserver$ObserverClusterStateListener.onTimeout(ClusterStateObserver.java:249) [elasticsearch-7.1.0.jar:7.1.0]",<br>es7_01            | "at org.elasticsearch.cluster.service.ClusterApplierService$NotifyTimeout.run(ClusterApplierService.java:555) [elasticsearch-7.1.0.jar:7.1.0]",<br>es7_01            | "at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:681) [elasticsearch-7.1.0.jar:7.1.0]",<br>es7_01            | "at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]",<br>es7_01            | "at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]",<br>es7_01            | "at java.lang.Thread.run(Thread.java:835) [?:?]"] }<br>es7_01            | {"type": "server", "timestamp": "2019-07-03T08:44:36,151+0000", "level": "WARN", "component": "o.e.c.c.ClusterFormationFailureHelper", "cluster.name": "geektime", "node.name": "es7_01",  "message": "master not discovered or elected yet, an election requires a node with id [-NtPuq1vRzGRi8CKL1st-A], have discovered [] which is not a quorum; discovery will continue using [] from hosts providers and [{es7_01}{Rl60TSJ3SUqhrb8hl0B0-Q}{8iiqMNQMSreXXgbyzWylfg}{172.19.0.3}{172.19.0.3:9300}{ml.machine_memory=2096164864, xpack.installed=true, ml.max_open_jobs=20}] from last-known cluster state; node term 2, last-accepted version 75 in term 2"  }</div> <span class="time">2019-07-03</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">docker-compose down -v<br>å†é‡æ–°docker-compose up<br>åŒæ—¶è®°å¾—æŠŠdockerçš„memoryè°ƒå¤§</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>3</span></a></div>
	</div>
	<div class="bd">è§£å†³äº†ç¢°åˆ°çš„å‡ ä¸ªå‘ï¼Œæˆ‘æ˜¯ç”¨vagrantå¯åŠ¨çš„è™šæ‹Ÿæœºï¼Œç„¶åè£…çš„docker<br>1.å†…å­˜è¦è®¾ç½®å¤§ç‚¹ï¼Œé»˜è®¤å†…å­˜ä¸å¤Ÿ<br>2.max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]ç¼–è¾‘ /etc/sysctl.confï¼Œè¿½åŠ ä»¥ä¸‹å†…å®¹ï¼švm.max_map_count=262144ä¿å­˜åï¼Œæ‰§è¡Œï¼šsysctl -pé‡æ–°å¯åŠ¨ï¼ŒæˆåŠŸã€‚<br><br>ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œæ‰“å¼€kibana,æ˜¯ç©ºç™½ç•Œé¢<br></div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æ„Ÿè°¢åˆ†äº«ã€‚åŠ¨æ‰‹å®è·µæ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼ï¼Œä¸ºä½ ğŸ‘</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/9a/68/c5c89897.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">renguzi</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>2</span></a></div>
	</div>
	<div class="bd">é˜®è€å¸ˆï¼Œæ‚¨å¥½ï¼è°¢è°¢æ‚¨çš„è¾›è‹¦ä»˜å‡ºã€‚è¯·é—®ä¸¤ä¸ªé—®é¢˜ï¼š1 å¯¹äºELKæ–°æ‰‹ï¼Œè¯·å¸®å¿™ç»™å‡ºè‡ªå­¦ELKï¼Œé˜…è¯»å®˜æ–¹æ–‡æ¡£çš„è·¯å¾„ï¼Œæ¯”å¦‚å…ˆçœ‹ä»€ä¹ˆï¼Œå†çœ‹ä»€ä¹ˆç­‰ã€‚2 å¯¹äºMySQLã€PostgreSQLæ•°æ®åº“çš„æ—¥å¿—ï¼Œæ˜¯å¦å¯ä»¥ç”¨ELKæ¥åˆ†æï¼Œå¹¶è·å–å…¶æ…¢SQLçš„æŠ¥å‘Šã€‚ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¯¹äºæˆ‘æ¥è¯´ï¼Œæˆ‘å¯ä»¥è¯¾ä¸‹è‡ªå·±é˜…è¯»ç›¸å…³å®˜æ–¹æ–‡æ¡£æ¥æ‰“åŸºç¡€ï¼Œå·©å›ºçŸ¥è¯†ï¼Œç¬¬äºŒé—®é¢˜ï¼Œæˆ‘å¸Œæœ›å­¦å®Œæœ¬ç³»åˆ—è¯¾ç¨‹ä¹‹åï¼Œå¯ä»¥è‡ªå·±æ­å»ºä¸€å¥—ELKæ¥åˆ†ææˆ‘æ‰‹ä¸Šçš„æ•°æ®åº“çš„æ…¢SQLï¼Œç»™ä¼˜åŒ–å¸¦æ¥å¸®åŠ©ã€‚å†æ¬¡æ„Ÿè°¢ã€‚</div> <span class="time">2019-07-10</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æœ‰ä¸€ç¯‡å­¦ä¹ è·¯å¾„â•ä¹¦ç±æ¨èã€‚<br><br>æƒå¨æŒ‡å—å¾ˆä¸é”™çš„ï¼Œå”¯ä¸€ä¸è¶³å°±æ˜¯ç‰ˆæœ¬æ¯”è¾ƒè€</p> <p class="reply-time">2019-07-10</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/c9/20/523828a2.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">zj</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>2</span></a></div>
	</div>
	<div class="bd">å„ä½åŒå­¦ä»¬ï¼Œæˆ‘ç¬¬ä¸€æ¬¡å¯åŠ¨èµ·æ¥äº†ï¼Œå†å¯åŠ¨å°±å¤±è´¥äº†ã€‚æˆ‘å‘ç°è·Ÿä¸­æ–‡ç›®å½•æœ‰å…³ï¼å¤§å®¶æŠŠgithubä¸‹è½½ä¸‹æ¥çš„docker-compose.yamlæ”¾åœ¨å…¶ä»–éä¸­æ–‡ç›®å½•å§ï¼ä¸è°¢ï¼ŒğŸ˜„</div> <span class="time">2019-07-03</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‚ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•ã€‚æˆ‘è‡ªå·±æ˜¯æ²¡æœ‰åœ¨ä¸­æ–‡ç›®å½•ä¸‹ä½¿ç”¨</p> <p class="reply-time">2019-07-03</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">èŠ‚ç¤º</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>2</span></a></div>
	</div>
	<div class="bd">è€å¸ˆç”¨docker-compose.yamlæœ‰é—®é¢˜ï¼Œå‘ç°å¯åŠ¨å®Œï¼Œä¸€ä¼šå°±é€€å‡ºã€‚71å’Œ7.2ç‰ˆæœ¬éƒ½æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œç›®å‰æ²¡æœ‰å¤´ç»ªï¼Œè¯·è€å¸ˆç»™äºˆæŒ‡å¯¼ï¼Œå¤šè°¢ã€‚<br>å¯åŠ¨ï¼š<br> Name                Command               State                Ports<br>---------------------------------------------------------------------------<br>cerebro   /opt/cerebro/bin/cerebro - ...   Up      0.0.0.0:9000->9000/tcp<br>es7_01    /usr/local/bin/docker-entr ...   Up      0.0.0.0:9200->9200/tcp, 9300/tcp<br>es7_02    /usr/local/bin/docker-entr ...   Up      9200/tcp, 9300/tcp<br>kibana7   /usr/local/bin/kibana-docker     Up      0.0.0.0:5601->5601/tcp<br>è¿‡å‡ åç§’åï¼š<br>cerebro   /opt/cerebro/bin/cerebro - ...   Up       javascript:;  0.0.0.0:9000->9000/tcp<br>es7_01    /usr/local/bin/docker-entr ...   Up         0.0.0.0:9200->9200/tcp, 9300/tcp<br>es7_02    /usr/local/bin/docker-entr ...   Exit 137<br>kibana7   /usr/local/bin/kibana-docker     Up         0.0.0.0:5601->5601/tcp<br>é”™è¯¯æ—¥å¿—ï¼š<br>{"type": "server", "timestamp": "2019-06-27T09:56:02,465+0000", "level": "WARN", "component": "o.e.d.SeedHostsResolver", "cluster.name": "geektime", "node.name": "es7_02",  "message": "failed to resolve host [es7_01]" ,<br><br>.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]",<br>es7_02            | "at java.lang.Thread.run(Thread.java:835) [?:?]"] }<br>es7_02            | {"type": "server", "timestamp": "2019-06-27T09:56:03,496+0000", "level": "WARN", "component": "o.e.d.SeedHostsResolver", "cluster.name": "geektime", "node.name": "es7_02",  "message": "failed to resolve host [es7_01]" ,<br>es7_02            | "stacktrace": ["java.net.UnknownHostException: es7_01: Name or service not known",<br>es7_02            | "at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method) ~[?:?]",<br><br></div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/f6/2d/5949c425.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å¤§åŒ¡</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>2</span></a></div>
	</div>
	<div class="bd">kibanaçš„ç›‘æ§ä¸èƒ½æ»¡è¶³è¯¾ç¨‹éœ€æ±‚å—ï¼Ÿä¸ºä½•è¿˜ç‰¹æ„é€‰æ‹©cerebro? </div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">CEREBROçš„æœ‰äº›ç•Œé¢æ¯”è¾ƒæ–¹ä¾¿ç”¨æˆ·ä»é›†ç¾¤çš„è§’åº¦ç†è§£ä¸€äº›å†…éƒ¨çš„åˆ†å¸ƒå¼å·¥ä½œæœºåˆ¶ã€‚å¹¶ä¸æ˜¯ç”¨æ¥åšå•çº¯çš„ç›‘æ§ã€‚</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/45/f0/342750e5.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è€è‹gogogo</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>2</span></a></div>
	</div>
	<div class="bd">è€å¸ˆæ‚¨å¥½ï¼Œæ ¹æ®æ‚¨çš„docker-compose.ymlæ–‡ä»¶å¯ä»¥å¯åŠ¨åŒèŠ‚ç‚¹çš„eså’Œkibana/cerebroã€‚ä½†æ˜¯esä¸­æ²¡æœ‰æ•°æ®ã€‚æ‚¨çš„ç¤ºä¾‹æ•°æ®ä»å“ªé‡Œå¯¼å…¥è¿›å»ï¼Ÿ</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">åœ¨Kibanaå®‰è£…å’Œç•Œé¢æ¦‚è§ˆè¿™ä¸€èŠ‚ï¼Œæœ‰ä»‹ç»ã€‚ä½ å¯ä»¥é€šè¿‡ç‚¹kibançš„é¦–é¡µï¼Œçœ‹åˆ°æœ‰ä¸€ä¸ªå¯¼å…¥æ•°æ®çš„åŠŸèƒ½ã€‚kibanaæä¾›äº†ï¼šç”µå­å•†åŠ¡ï¼Œé£æœºèˆªç­å’Œæ—¥å¿—ä¿¡æ¯ä¸‰ä¸ªæ•°æ®é›†ã€‚ç‚¹å‡»é¡µé¢å°±å¯ä»¥å¯¼å…¥æ•°æ®äº†ã€‚<br><br>æˆ–è€…åœ¨logatash å¯¼å…¥æ•°æ®é‚£ä¸€èŠ‚ï¼Œé€šè¿‡è¿è¡Œlogstash -f yourconfig.cofigï¼Œå¯¼å…¥ç”µå½±æ•°æ®</p> <p class="reply-time">2019-06-26</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/9a/68/c5c89897.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">renguzi</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">çœ‹åˆ°æœ‰åŒå­¦è¯´ï¼Œå¡åœ¨ç”¨dockerç¯å¢ƒå¯åœELKã€‚æˆ‘æŠŠåœ¨CentOSä¸Šçš„æ“ä½œæµç¨‹è®°å½•ä¸€ä¸‹ï¼š<br>1 dockerå®‰è£…å¿½ç•¥ï¼›<br><br>2 å®‰è£…docker-compose<br>a å‚è€ƒé“¾æ¥ï¼šhttps://docs.docker.com/compose/install/#install-using-pip<br>b åˆ‡åˆ°Linuxæ ‡ç­¾é¡µï¼Œå…¶å®å°±æ˜¯æ ¹æ®æ–‡æ¡£æ‰§è¡Œè¿™2ä¸ªå‘½ä»¤ï¼šsudo curl -L "https://github.com/docker/compose/releases/download/1.24.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose<br>ä»¥åŠï¼šsudo chmod +x /usr/local/bin/docker-compose<br><br>3 é…ç½®OSçš„/etc/sysct.confæ–‡ä»¶ï¼›é€šè¿‡å‘½ä»¤ï¼šgrep vm.max_map_count /etc/sysctl.confæ£€æŸ¥vm.max_map_count=262144æ˜¯å¦è®¾ç½®ã€‚å¦‚æœè¿”å›ä¸ºç©ºï¼Œæˆ–è€…è¯¥å‚æ•°å€¼å°äºæœ€ä½è¦æ±‚çš„262144å€¼ã€‚åˆ™ç›´æ¥åœ¨/etc/sysctl.confåŠ å…¥æˆ–è€…ä¿®æ”¹vm.max_map_count=262144ã€‚ç„¶åï¼Œè®°å¾—æ‰§è¡Œsysctl -pä½¿å…¶ç”Ÿæ•ˆã€‚ä¸ºä»€ä¹ˆè¦è®¾ç½®è¿™ä¸ªå‚æ•°ï¼Œå› ä¸ºï¼Œä½ å¯èƒ½ä¼šé­é‡åˆ°docker-compose up æŠ¥é”™ï¼Œå¯¼è‡´å¦å¤–ä¸€ä¸ªesçš„instanceå¯åŠ¨ä¸äº†ï¼Œæˆ‘åœ¨å®éªŒè¿‡ç¨‹ä¸­ï¼Œä»docker-compose upå‘½ä»¤çª—å£ä¸Šçœ‹åˆ°es7_02å¯åŠ¨ä¸äº†ï¼Œæç¤ºè¦ä¿®æ”¹è¯¥å†…æ ¸å‚æ•°ã€‚å‚è€ƒé“¾æ¥ï¼šhttps://www.elastic.co/guide/en/elasticsearch/reference/7.2/docker.html#docker-cli-run-prod-mode<br><br>4 mkdir 7.x-docker-2-es-instances<br><br>5 cd 7.x-docker-2-es-instances<br><br>6 vi docker-compose.yaml æŠŠè€å¸ˆçš„https://github.com/geektime-geekbang/geektime-ELK/tree/master/part-1/2.3-%E5%9C%A8Docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E8%BF%90%E8%A1%8CElasticsearch%2CKibana%E5%92%8CCerebro/7.x-docker-2-es-instances æ–‡ä»¶å†…å®¹ï¼Œä¸€å­—ä¸å·®çš„å¡«è¿›å»<br><br>7 åœ¨å½“å‰è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œ docker-compose up ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œä¼šæ ¹æ®é…ç½®æ–‡ä»¶ä¸‹è½½imagesï¼Œæ¯”è¾ƒæ…¢ï¼Œç­‰ç€å°±å¥½äº†<br>8 å¦å¤–ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œå¯ä»¥æ‰§è¡Œdocker images æˆ–è€…docker ps æ¥æŸ¥çœ‹é•œåƒï¼Œä»¥åŠè¿è¡Œçš„è¿›ç¨‹ã€‚<br>[root@centos-master 7.x-docker-2-es-instances]# docker images<br>docker.elastic.co/kibana/kibana                 7.1.0               714b175e84e8        7 weeks ago         745 MB<br>...å†…å®¹è¶…é•¿..çœç•¥...<br>[root@centos-master 7.x-docker-2-es-instances]# docker ps<br>CONTAINER ID        IMAGE                                                 COMMAND                  CREATED            <br>...å†…å®¹è¶…é•¿..çœç•¥...<br>9 å‘½ä»¤è¡ŒæŸ¥çœ‹elasticsearché›†ç¾¤å¥åº·ä¿¡æ¯ï¼š<br>[root@centos-master 7.x-docker-2-es-instances]# curl http://127.0.0.1:9200/_cat/health<br>1562729637 03:33:57 geektime green 2 2 4 2 0 0 0 0 - 100.0%<br>[root@centos-master 7.x-docker-2-es-instances]#  <br>10 ä¸Šé¢æ˜¯æˆ‘çš„æ“ä½œæ­¥éª¤å’Œé‡åˆ°é—®é¢˜çš„æƒ…å†µï¼Œä¾›å‚è€ƒã€‚</div> <span class="time">2019-07-10</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-07-10</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ç»…å£«</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">çœ‹åˆ°è¿™é‡Œå·²ç»å¡äº†ä¸¤å¤©äº†ï¼Œè¿™ä¸¤å¤©ä¸€ç›´åœ¨çœ‹dockerçš„ä¸œè¥¿ï¼Œdocker-composeï¼ŒDocker Imageï¼Œè¿™äº›ç›®å‰ä¸ºæ­¢è¿˜æ˜¯ä¸å¤ªæ¸…æ¥šæ˜¯ä»€ä¹ˆï¼Œæˆ‘ç”¨çš„mac ,æ„Ÿè§‰è·Ÿè€å¸ˆçš„ä¸ä¸€æ ·å•Š</div> <span class="time">2019-07-04</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ å¯ä»¥æŠŠç¢°åˆ°çš„å…·ä½“é—®é¢˜åˆ—å‡ºæ¥ã€‚çœ‹çœ‹å¤§å®¶èƒ½å¦å¸®åŠ©ä½ ã€‚<br><br>å¦å¤–ï¼Œä¸æ˜¯å¿…éœ€ä½¿ç”¨docker-compose è¿è¡Œã€‚ä½¿ç”¨dockerçš„å¥½å¤„æ˜¯å½“å¹´åœ¨å¼€å‘æœºå™¨ä¸Šç®¡ç†å¤šå¥—ç¯å¢ƒã€‚<br><br>è¿™ä¸ªé—®é¢˜å¦‚æœä½ ä¸€ä¸‹è§£å†³ä¸äº†ï¼Œå®Œå…¨å¯ä»¥ç”¨å‘½ä»¤è¡Œå¯åŠ¨eså®ä¾‹</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/f0/73/27885580.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Sunshine.</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">å½“æˆ‘ä¸‹è½½Kibanaé•œåƒæ—¶å€™æ¯æ¬¡éƒ½è¶…æ—¶ï¼Œå›½å†…è®¿é—®æœ‰é™åˆ¶ï¼Ÿ</div> <span class="time">2019-07-03</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">åº”è¯¥åªæ˜¯é€Ÿåº¦æ…¢ï¼Œå¯ä»¥å°è¯•æ‰¾ä¸€ä¸‹å›½å†…çš„é•œåƒ</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/e8/dc/32e78f02.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä¹å‡¡</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œè¯•äº†å¥½å¤šæ¬¡ä¸€ç›´å¤„äºè¿™ç§çŠ¶æ€å•Šï¼ä¸çŸ¥é“æ€ä¹ˆè§£å†³ã€‚ã€‚ã€‚ã€‚<br>kibana7           | {"type":"log","@timestamp":"2019-07-01T13:30:20Z","tags":["license","warning","xpack"],"pid":1,"message":"License information from the X-Pack plugin could not be obtained from Elasticsearch for the [data] cluster. Error: Request Timeout after 30000ms"}<br></div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">è¯·ç¡®ä¿ä¸ºdockeråˆ†é…äº†è¶³å¤Ÿçš„å†…å­˜ï¼Œcpuå’Œç£ç›˜ç©ºé—´ï¼Œç„¶ådocker-compose down -v å å†æµ‹è¯•ä¸€ä¸‹</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/6f/0d/968bf8d4.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä¸¥å°ç™½</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæ‚¨å¥½ï¼Œèƒ½å¦ç»™å‡ºä¸€ä¸ªå…³äºä¸åŒç‰©ç†æœºå™¨ä¹‹é—´é›†ç¾¤çš„ dock-compose.yml çš„é…ç½®æ–‡ä»¶ã€‚è€Œä¸æ˜¯åœ¨ä¸€ä¸ªç‰©ç†æœºå™¨ä¸Šï¼Œè·‘äº†ä¸¤ä¸ª es çš„å®ä¾‹ï¼Œè°¢è°¢ï¼</div> <span class="time">2019-06-28</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">docker composeä¸»è¦å°±æ˜¯ç”¨åœ¨å•å°æœºå™¨ä¸Šçš„ã€‚å¤šæœºå™¨çš„ï¼Œå› è¯¥éœ€è¦docker swamæˆ–è€…æ˜¯kubernetesã€‚k8såœ¨ç¬¬ä¸‰éƒ¨åˆ†ä¼šæœ‰è®²è§£</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">èŠ‚ç¤º</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">es7_02            | {"type": "server", "timestamp": "2019-06-27T09:40:35,984+0000", "level": "WARN", "component": "o.e.d.SeedHostsResolver", "cluster.name": "geektime", "node.name": "es7_02",  "message": "failed to resolve host [es7_01]" ,<br>es7_02            | "stacktrace": ["java.net.UnknownHostException: es7_01",<br>es7_02            | "at java.net.InetAddress$CachedAddresses.get(InetAddress.java:797) ~[?:?]",<br>es7_02            | "at java.net.InetAddress.getAllByName0(InetAddress.java:1505) ~[?:?]",<br>es7_02            | "at java.net.InetAddress.getAllByName(InetAddress.java:1364) ~[?:?]",<br>es7_02            | "at java.net.InetAddress.getAllByName(InetAddress.java:1298) ~[?:?]",<br>es7_02            | "at org.elasticsearch.transport.TcpTransport.parse(TcpTransport.java:528) ~[elasticsearch-7.2.0.jar:7.2.0]",<br>es7_02            | "at org.elasticsearch.transport.TcpTransport.addressesFromString(TcpTransport.java:470) ~[elasticsearch-7.2.0.jar:7.2.0]",<br>es7_02            | "at org.elasticsearch.transport.TransportService.addressesFromString(TransportService.java:754) ~[elasticsearch-7.2.0.jar:7.2.0]",<br>es7_02            | "at org.elasticsearch.discovery.SeedHostsResolver.lambda$resolveHostsLists$0(SeedHostsResolver.java:141) ~[elasticsearch-7.2.0.jar:7.2.0]",<br>es7_02            | "at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]",<br>es7_02            | "at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:688) ~[elasticsearch-7.2.0.jar:7.2.0]",<br>es7_02            | "at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]",<br>es7_02            | "at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]",<br>es7_02            | "at java.lang.Thread.ru</div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/76/c4/a377fbdd.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">èŠ¬è¾¾</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">è€å¸ˆçš„docker-compose.ymlæ–‡ä»¶åœ¨å“ªé‡Œå¯ä»¥ä¸‹è½½ï¼Ÿ</div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">https://github.com/onebirdrocks/geektime-ELK<br><br>è¿›å…¥ Part-1 ç›®å½•ï¼Œæ‰¾åˆ°ç›¸åº”çš„ç« èŠ‚</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/b7/ae/a25fcb73.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">colin</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œè¯¾ç¨‹çš„å®éªŒï¼Œæ˜¯ç”¨dockerè¿˜æ˜¯æœ¬åœ°å¥½ä¸€ç‚¹</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">éƒ½å¯ä»¥ï¼Œä½ å¦‚æœåªç”¨ä¸€ä¸ªç‰ˆæœ¬çš„ï¼Œç”¨æœ¬æœºç‰ˆä¹Ÿå¯ä»¥ã€‚å°±æ˜¯è¦åˆ†åˆ«å¯åŠ¨eså’Œkibanè€Œå·²ã€‚</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/63/85/9ccf1b19.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è‰å¸½è·¯é£</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>1</span></a></div>
	</div>
	<div class="bd">è€å¸ˆæ‚¨å¥½ã€‚æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š1)è¯·é—®ç°åœ¨ç”Ÿäº§ä¸­å¯¹ELKè¿™ç±»å·¥å…·æœ‰æ²¡æœ‰å®¹å™¨åŒ–ä½¿ç”¨ï¼Ÿæˆ–è€…å®¹å™¨åŒ–çš„è¶‹åŠ¿ï¼Ÿ<br>2)celebro åº”è¯¥æ˜¯æ›¿ä»£äº†headè¿™ä¸ªæ’ä»¶å§ï¼Ÿ</div> <span class="time">2019-06-24</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å…³äºå®¹å™¨åŒ–ï¼Œç›®å‰ï¼Œebayæ­£æŠŠESé›†ç¾¤ä»openstackè¿å¾€k8sã€‚ä»ä¸Šæ¸¸çœ‹ï¼ŒElasticå…¬å¸é™¤äº†å¼€æºäº†helmï¼Œè¿˜åœ¨ä¸Šä¸ªæœˆå¼€æºäº†eladticsearchçš„k8s operatorï¼Œæ–¹ä¾¿ç”¨æˆ·åœ¨k8sä¸Šéƒ¨ç½²å’Œç®¡ç†esçš„é›†ç¾¤ã€‚å…³äºæ’ä»¶ï¼Œå¾ˆéš¾è¯´è°å–ä»£è°ï¼Œæ›´æ–°çš„é¢‘ç‡ï¼Œç”¨æˆ·çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œéƒ½æ˜¯æŒºé‡è¦çš„è€ƒé‡å› ç´ ã€‚ä»è¶‹åŠ¿ä¸Šçœ‹ï¼Œè¶Šæ¥è¶Šå¤šçš„åŠŸèƒ½éƒ½ä¼šæ•´åˆè¿›kibanaçš„ç•Œé¢ã€‚</p> <p class="reply-time">2019-06-24</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä¸œæ–¹å¥‡éª¥</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æˆ‘ç³»ç»Ÿæ˜¯Ubuntuï¼Œ å®‰è£…æ—¶é‡åˆ°äº†å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼Œå¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶ï¼š<br>1.Dockeræƒé™é—®é¢˜ï¼ŒERROR: Couldn't connect to Docker daemon at http+docker://localunixsocket - is it running<br>1ã€å¦‚æœè¿˜æ²¡æœ‰ docker group (cat /etc/group | grep docker)å°±æ·»åŠ ä¸€ä¸ª<br>sudo groupadd docker<br>2ã€å°†ç”¨æˆ·åŠ å…¥è¯¥ group å†…ã€‚ç„¶åé€€å‡ºå¹¶é‡æ–°ç™»å½•å°±ç”Ÿæ•ˆå•¦ã€‚<br>sudo gpasswd -a ${USER} docker<br>3ã€é‡å¯ docker æœåŠ¡<br>sudo service docker restart<br>4ã€åˆ‡æ¢å½“å‰ä¼šè¯åˆ°æ–° group æˆ–è€…é‡å¯ X ä¼šè¯<br>newgrp - docker<br>æ³¨æ„:æœ€åä¸€æ­¥æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™å› ä¸º groups å‘½ä»¤è·å–åˆ°çš„æ˜¯ç¼“å­˜çš„ç»„ä¿¡æ¯ï¼Œåˆšæ·»åŠ çš„ç»„ä¿¡æ¯æœªèƒ½ç”Ÿæ•ˆï¼Œæ‰€ä»¥ docker images æ‰§è¡Œæ—¶åŒæ ·æœ‰é”™ã€‚`<br>ç„¶åé€€å‡ºå½“å‰ç”¨æˆ·æ¯”å¦‚åˆ‡æ¢ä¸ºrootï¼Œå†æ¬¡åˆ‡æ¢ä¸ºluojiã€‚ç„¶åæ‰§è¡Œdocker-compose up -då°±okäº†ã€‚<br>su root<br>su luoji<br><br>2.Dockerä¸‹è½½é€Ÿåº¦å¤ªæ…¢<br>ä¿®æ”¹ /etc/docker/daemon.json æ–‡ä»¶å¹¶æ·»åŠ ä¸Š registry-mirrors é”®å€¼ã€‚<br>{<br>  "registry-mirrors": ["https://docker.mirrors.ustc.edu.cn"]<br>}<br>ç„¶åå†é‡å¯DockeræœåŠ¡ï¼šsudo service docker restart<br>é•œåƒä¹Ÿå¯ä»¥æ‰¾åˆ«çš„æ›´å¿«çš„ï¼Œä½†å®æµ‹è¿™ä¸ªä¸­ç§‘é™¢çš„æ¯”é˜¿é‡Œäº‘çš„å¿«ã€‚</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/ed/ae/199c3425.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">aQ.</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæˆ‘çš„æœåŠ¡å†…å­˜æ¯”è¾ƒå°åªæœ‰2gï¼Œå•å¯åŠ¨esï¼Œåœ¨å•èŠ‚ç‚¹çš„æƒ…å†µä¸‹æ˜¯å¯ä»¥å¯åŠ¨çš„ã€‚ä½†æ˜¯docker-composeå¯åŠ¨çš„æ—¶å€™ï¼Œæ€»æ˜¯æç¤º"es72_01 exited with code 137"ï¼Œdown/upäº†å¥½å¤šæ¬¡ä¹Ÿæ²¡ç”¨</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLHZRjM2icgjbQ0ULXVKIcHibwFs79PlCFQvicgEoicDF3I5RQzCCLu0KmbUHPfzvhRHgJzGt6s9cr6nQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Geek_83247e</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆèƒ½æŠŠæ¯ä¸ªå•ç‹¬å¯åŠ¨å®¹å™¨çš„å‘½ä»¤å‘å‡ºæ¥å—?docker compose æ ¹æœ¬å®‰è£…ä¸äº†</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBMCkrUrutlWAOOUS9LVNsAmgWP3O45ndjVl8lWtnQMMHc8R5gpV2DBauFdjB5faeS0O2v2lXHEg/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">éƒ¦å‡¯é¢–</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">Cerebro /sÉ™ËˆriËbroÊŠ/;  æ±‚æ”¹å‘éŸ³ï¼Œå¬ç€åˆ«æ‰­ï¼Œè°¢è°¢ï¼</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/7c/b5/4a7a2bd4.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Sunqc</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">é—®é¢˜æ˜¯å­¦è¿™é—¨è¯¾ç¨‹ç¯å¢ƒå’Œä½ çš„ä¸ä¸€è‡´ï¼Œæ„Ÿè§‰åç»­å­¦ä¹ æŒºéš¾çš„ï¼Œwindows dockerç¯å¢ƒéƒ½æ­å»ºä¸èµ·æ¥</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/48/24/abb7bfe3.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Kyne(é»„å‡¯)</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å…³äºé”™è¯¯ï¼š<br>master not discovered yet, this node has not previously joined a bootstrapped (v7+) cluster, and this node must discover master-eligible nodes [es72_01, es72_02] to bootstrap a cluster: have discovered []; discovery will continue using [] from hosts providers<br>é€šè¿‡æŸ¥çœ‹æ–‡æ¡£ä¸æµ‹è¯•åå‘ç°ï¼šdocker-compose.yamlæ–‡ä»¶ä¸­eséƒ¨åˆ†çš„å‚æ•°å½±å“esé›†ç¾¤æ‰¾ä¸åˆ°ç›¸å…³çš„node<br>- network.publish_host=elasticsearch<br>æ³¨é‡Šæ‰åå³å¯å¯åŠ¨æˆåŠŸï¼Œä¸”cerebroä¹Ÿèƒ½è¿æ¥</div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/22/8a/93ee037f.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Oren</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">docker-compose.yamlä¸‹è½½å¾ˆæ…¢ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ²¡æœ‰ç¿»å¢™çš„åŸå› </div> <span class="time">2019-07-14</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/e6/ac/e14bde09.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">xsg</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆä½ å¥½ï¼Œesé›†ç¾¤å¯åŠ¨ä¸èµ·æ¥ï¼Œæ—¥å¿—ä¿¡æ¯å¦‚ä¸‹ï¼Œå¯ä»¥å¸®æˆ‘çœ‹ä¸€ä¸‹æ˜¯ä»€ä¹ˆåŸå› å—ï¼Ÿ<br>es72_01           | {"type": "server", "timestamp": "2019-07-13T08:08:06,396+0000", "level": "WARN", "component": "o.e.c.c.ClusterFormationFailureHelper", "cluster.name": "geektime", "node.name": "es72_01",  "message": "master not discovered yet, this node has not previously joined a bootstrapped (v7+) cluster, and this node must discover master-eligible nodes [es72_01, es72_02] to bootstrap a cluster: have discovered []; discovery will continue using [] from hosts providers and [{es72_01}{V7nJJP8zRqCD1yTxHgnsLg}{3tJOM7jVQAmjTfFajh8gSg}{elasticsearch}{172.21.0.3:9300}{ml.machine_memory=3973754880, xpack.installed=true, ml.max_open_jobs=20}] from last-known cluster state; node term 0, last-accepted version 0 in term 0"  }<br>es72_02           | {"type": "server", "timestamp": "2019-07-13T08:08:16,201+0000", "level": "WARN", "component": "o.e.c.c.ClusterFormationFailureHelper", "cluster.name": "geektime", "node.name": "es72_02",  "message": "master not discovered yet, this node has not previously joined a bootstrapped (v7+) cluster, and this node must discover master-eligible nodes [es72_01, es72_02] to bootstrap a cluster: have discovered []; discovery will continue using [] from hosts providers and [{es72_02}{ZBIfN6PBRSCXnGe1NIkWzw}{iEFtMA8NRdq8Arl2ODAuig}{elasticsearch}{172.21.0.3:9300}{ml.machine_memory=3973754880, xpack.installed=true, ml.max_open_jobs=20}] from last-known cluster state; node term 0, last-accepted version 0 in term 0"  }</div> <span class="time">2019-07-13</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å°è¯•è°ƒå¤§dockerèµ„æºã€‚docker-compose down -v åå†å¯åŠ¨è¯•è¯•ï¼Ÿ</p> <p class="reply-time">2019-07-13</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/ae/31/2c8a3a66.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å¾…æ—¶è€Œå‘</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œdeckerå¿…é¡»åœ¨linuxæˆ–è€…macç¯å¢ƒå®‰è£…å—ï¼Ÿæˆ‘çœ‹å®˜ç½‘æœ‰windowå®‰è£…åŒ…ï¼Œä¸‹è½½å®Œä¹‹åï¼Œæ— æ³•æ‰“å¼€</div> <span class="time">2019-07-12</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">windowsæ˜¯åº”è¯¥å¯ä»¥å®‰è£…çš„ã€‚ç›¸å¯¹æ¥è¯´å¯èƒ½é—®é¢˜æ¯”linuxä¸Šå¤šä¸€äº›</p> <p class="reply-time">2019-07-12</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/4f/26/f21afb83.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æš–è‰²æµ®ä½™ç”Ÿ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">é—®é¢˜è§£å†³ğŸ˜…ğŸ˜…ï¼Œè¿è¡Œäº†ä¸€ä¸‹dockerï¼compose down ï¼vï¼Œç„¶åé‡æ–°upï¼Œå°±å¯ä»¥äº†ï¼Œä¸æ‡‚ä¸ºä»€ä¹ˆæŠ¥é”™esé€‰ä¸»ä¸æˆåŠŸã€‚æäº†ä¿©å°æ—¶ã€‚è€å¸ˆè¿™ä¸ªï¼vçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢</div> <span class="time">2019-07-12</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">down -v æ˜¯åˆ é™¤å·çš„æ„æ€</p> <p class="reply-time">2019-07-12</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/4f/26/f21afb83.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æš–è‰²æµ®ä½™ç”Ÿ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæˆ‘è¿™è¾¹ä¹‹å‰è¿è¡Œæ—¶æ²¡æœ‰é—®é¢˜çš„ï¼Œä»Šå¤©çªç„¶è¿è¡Œä¸èµ·æ¥äº†ï¼Œkibanaè¿è¡Œä¸èµ·æ¥ï¼Œeså¯ä»¥è¿è¡Œï¼Œä½†æ˜¯å¥åº·çŠ¶æ€æŠ¥é”™æ˜¯master_not_discovered_exceptionã€‚statusçŠ¶æ€ä¸º503ã€‚æˆ‘æ„Ÿè§‰åº”è¯¥æ˜¯dockerçš„ç½‘ç»œé—®é¢˜ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆè§£å†³ã€‚</div> <span class="time">2019-07-12</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">docker-compose down -v ç„¶åå†è¿è¡Œã€‚å°è¯•ç€æŠŠdockerçš„å†…å­˜å’Œç£ç›˜éƒ½åŠ å¤§ã€‚èµ„æºä¸å¤Ÿæ—¶ä¼šå¯¼è‡´ä¸€äº›å¥‡æ€ªçš„ç°è±¡</p> <p class="reply-time">2019-07-12</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/3e/2f/5a9f3680.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Gedeon</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆ è¯·é—® docker-compose  restarté‡å¯å kibana å’Œcerebroå°±è¿æ¥ä¸ä¸Šelaeticsearchäº† å¿…é¡»å¾—dockr-compose down -v å— ç„¶å upå— è¿™æ ·æ•°æ®è¿˜å¾—é‡æ–°å¯¼å…¥å§ï¼Ÿ</div> <span class="time">2019-07-11</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¯¹ åˆ é™¤å·ä»¥åï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚ä½ å°è¯•å¤šåˆ†é…ä¸€äº›èµ„æºç»™dockerï¼Œæˆ–è€…å°†esçš„jvmè°ƒä½ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½è§£å†³è¿™ä¸ªé—®é¢˜<br></p> <p class="reply-time">2019-07-12</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/4a/df/a3ee01da.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">sailor</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æŠ¥é”™ï¼š{"error":{"root_cause":[{"type":"master_not_discovered_exception","reason":null}],"type":"master_not_discovered_exception","reason":null},"status":503}<br>System:<br>Kernel Version: 4.15.0-54-generic<br>Operating System: Ubuntu 18.04.2 LTS<br>OSType: linux<br>Architecture: x86_64<br>è§£å†³åŠæ³•ï¼š<br>å‚è€ƒ https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html<br>```<br>elasticsearch:<br>    image: docker.elastic.co/elasticsearch/elasticsearch:7.2.0<br>    container_name: es_01<br>    environment:<br>      - cluster.name=escluster<br>      - node.name=es_01<br>      - bootstrap.memory_lock=true<br>      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"<br>      - discovery.seed_hosts=es_02<br>        #- network.publish_host=elasticsearch             # æ³¨é‡Šæ‰æ”¹è¡Œï¼Œelasticsearch2ä¸­åŒæ ·æ³¨é‡Šæ‰æ”¹è¡Œ<br>      - cluster.initial_master_nodes=es_01,es_02<br>```<br>å…·ä½“åŸå› æœªçŸ¥ï¼Œä¿®æ”¹å ES Cluster å¯åŠ¨æ­£å¸¸<br>$ curl http://127.0.0.1:9200/_cat/health<br>1562849872 12:57:52 escluster green 2 2 8 4 0 0 0 0 - 100.0%<br></div> <span class="time">2019-07-11</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/ec/3d/df27ce11.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å°ä¸å…­</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd"># docker-compose up<br>Starting cerebro ... done<br>Starting es7_01  ... done<br>Starting es7_02  ... done<br>Starting kibana7 ... done<br>Attaching to es7_02, es7_01, cerebro, kibana7<br>es7_02            | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>es7_01            | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>Exception in thread Thread-13:<br>Traceback (most recent call last):<br>  File "site-packages/urllib3/connectionpool.py", line 384, in _make_request<br>  File "<string>", line 2, in raise_from<br>  File "site-packages/urllib3/connectionpool.py", line 380, in _make_request<br>  File "http/client.py", line 1331, in getresponse<br>  File "http/client.py", line 297, in begin<br>  File "http/client.py", line 258, in _read_status<br>  File "socket.py", line 586, in readinto<br>socket.timeout: timed out<br> ä¸çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Ÿ</div> <span class="time">2019-07-11</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/4d/54/9c214885.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">kylexy_0817</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">ubuntu18.04ä¸ŠæŠ¥çš„é”™ï¼Œè¿˜æ²¡å¤´ç»ªå¦‚ä½•è§£å†³ã€‚<br>ERROR: for es7_01  Cannot start service elasticsearch: ttrpc: client shutting down: read unix @->@/containerd-shim/moby/5f91762c93d95cec33fd734204a640e3b90db2bab2cc27200494d91c6ed977b0/shim.sock: read: connection reset by peer: unknown<br><br>ERROR: for elasticsearch  Cannot start service elasticsearch: ttrpc: client shutting down: read unix @->@/containerd-shim/moby/5f91762c93d95cec33fd734204a640e3b90db2bab2cc27200494d91c6ed977b0/shim.sock: read: connection reset by peer: unknown<br><br>ERROR: for elasticsearch2  Cannot start service elasticsearch2: ttrpc: client shutting down: read unix @->@/containerd-shim/moby/41fe695ab1131670fbb17d133b5b37f4400288d9e1fba95826f70a1a0c2626d3/shim.sock: read: connection reset by peer: unknown</div> <span class="time">2019-07-11</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/76/9a/5b80c066.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">onebird</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">https://time.geekbang.org/column/article/104136?from=timeline&isappinstalled=0</div> <span class="time">2019-07-10</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/44/97/d32cdd42.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ¨±æ¡ƒè€ä¸¸å­</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">sudo sysctl -w vm.max_map_count=262144</div> <span class="time">2019-07-10</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-07-10</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/62/1f/89137ea1.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Zero</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">es æ€ä¹ˆåŒæ­¥ æ•°æ®åº“çš„æ•°æ®å‘¢</div> <span class="time">2019-07-10</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¯ä»¥ç”¨logstashçš„jdbc connector</p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è¿½æ¢¦å°‘å¹´</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è¯·é—®è€å¸ˆ æˆ‘ç”¨docker-compose upæ‰§è¡Œï¼ŒElasticsearchå¯åŠ¨ä¸äº†ï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿ<br>es7_01            | {"type": "server", "timestamp": "2019-07-09T16:21:39,780+0000", "level": "WARN", "component": "o.e.c.c.ClusterFormationFailureHelper", "cluster.name": "elk", "node.name": "es7_01",  "message": "master not discovered yet, this node has not previously joined a bootstrapped (v7+) cluster, and this node must discover master-eligible nodes [es7_01, es7_02] to bootstrap a cluster: have discovered []; discovery will continue using [172.18.0.5:9300] from hosts providers and [{es7_01}{BxudLAcZTMufrCeGu1BTtg}{zLXsHEOZRXSCyAJO2MD5Ag}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=3973750784, xpack.installed=true, ml.max_open_jobs=20}] from last-known cluster state; node term 0, last-accepted version 0 in term 0"  }<br></div> <span class="time">2019-07-10</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä¸ºdockerå¤šåˆ†é…ä¸€äº›å†…å­˜ï¼Ÿ</p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/6d/cf/ab9fc5d4.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">jason</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æˆ‘ç”¨çš„æ˜¯windowsç³»ç»Ÿï¼Œdockerå†…å­˜è®¾ç½®äº†9Gï¼Œé€šè¿‡æ›´æ”¹docker-compose.yamlæ–‡ä»¶ä¸­kibanaå®¹å™¨çš„å‚æ•°ï¼ŒæŠŠè¶…æ—¶æ—¶é—´ä»30000æ”¹æˆäº†90000ï¼ˆ- ELASTICSEARCH_REQUESTTIMEOUT=90000ï¼‰ï¼Œè¿è¡Œä¹‹åæŠ¥å¦‚ä¸‹é”™è¯¯<br>FATAL  [master_not_discovered_exception] null :: {"path":"/.kibana","query":{},"statusCode":503,"response":"{\"error\":{\"root_cause\":[{\"type\":\"master_not_discovered_exception\",\"reason\":null}],\"type\":\"master_not_discovered_exception\",\"reason\":null},\"status\":503}"}<br></div> <span class="time">2019-07-09</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/d7/98/630fa899.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æŠ¢åœ°ç“œçš„é˜¿å§¨</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è¿™ä¸€ç« èŠ‚å¡ä½äº†ï¼Œå¸Œæœ›è€å¸ˆèƒ½å…·ä½“æ¼”ç¤ºä¸€éï¼ï¼ï¼ï¼</div> <span class="time">2019-07-09</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/d7/98/630fa899.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æŠ¢åœ°ç“œçš„é˜¿å§¨</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è¿›å…¥ 7.x-docker-2-es-instanceç›®å½•<br><br>è¿™é‡Œæ€ä¹ˆè¿›å…¥å•Šï¼Œè€å¸ˆ</div> <span class="time">2019-07-09</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">https://github.com/onebirdrocks/geektime-ELK<br><br>è¯·ä¸‹è½½githubä¸­çš„ä»£ç </p> <p class="reply-time">2019-07-09</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/03/01/62b32acf.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ç‹é£æ´‹</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘è¿™è¾¹ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡é€šè¿‡docker-compose upå¯ä»¥èµ·æ¥ï¼Œç„¶åå…³é—­åï¼Œä¸‹ä¸€æ¬¡å°±ä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼Œèƒ½å¸®å¿™çœ‹ä¸‹å˜›</div> <span class="time">2019-07-09</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¾ˆå¤šåŒå­¦ç¢°åˆ°é—®é¢˜è²Œä¼¼éƒ½å’Œæœºå™¨èµ„æºçš„åˆ†é…æœ‰å…³ï¼Œå°è¯•å¢åŠ å†…å­˜å’Œå­˜å‚¨ï¼Œç„¶å docker-compose down -våå†æ¬¡å¯åŠ¨<br></p> <p class="reply-time">2019-07-09</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/58/fc/062ec8a1.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è¿½é©¬</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">åŠ å¤§å†…å­˜åˆ°4Gå°±å¯ä»¥äº†,è°¢è°¢è§£ç­”</div> <span class="time">2019-07-09</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/91/8a/e7d6c8c3.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">SirNicholas</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">ä½ è¿™æ˜¯è¿è¡Œåœ¨macä¸Šè¿˜æ˜¯linuxä¸Šé¢çš„å‘¢ï¼Ÿç»™è¿™äº›é“¾æ¥æœ‰æ„æ€ï¼Ÿå­¦ä¹ esä¸å°±æ˜¯ç¯å¢ƒæ­å»ºæœ€è´¹æ—¶é—´ï¼Œä½ ä¸€ä¸¤åˆ†é’Ÿå°±ç»“æŸäº†ã€‚ç¢°åˆ°çš„å‘è°æ¥è§£å†³ï¼Ÿè‡³å°‘ä½ ä¹Ÿçš„è‡ªå·±æ“ä½œä¸€éçš„å§</div> <span class="time">2019-07-09</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä¸€èŠ‚è§†é¢‘è¯¾ç¨‹çš„æ—¶é—´æ˜¯10åˆ†é’Ÿã€‚æ¯ä¸ªåŒå­¦çš„åŸºç¡€ä¸ä¸€æ ·ã€‚æ‰€ä»¥åœ¨è®²è¯¾ä¸­å†…å®¹è‚¯å®šä¼šæœ‰å–èˆã€‚æˆ‘æŠŠä¸€äº›å‘½ä»¤åœ¨æ¯ä¸ªå¹³å°ä¸Šéƒ½åšæ“ä½œä¸€éï¼Œæˆ‘ç›¸ä¿¡ï¼Œä¹Ÿä¼šæœ‰å¾ˆå¤šåŒå­¦ä¼šä¸æ»¡æ„ã€‚è‡³å°‘ç›®å‰è¿˜æœ‰å¾ˆå¤šäººè§‰å¾—ç¬¬ä¸€éƒ¨åˆ†çš„å†…å®¹è®²çš„è¿‡äºç®€å•äº†ã€‚å…³äºåœ¨ç”Ÿäº§ç¯å¢ƒä¸­é…ç½®ï¼Œåç»­ä¼šæœ‰æ‰€ä»‹ç»ã€‚æœ¬æœºæ­å»ºesï¼Œå…¶å®åŸºæœ¬å°±æ˜¯å¼€ç®±å³ç”¨çš„ï¼Œä¸éœ€è¦å¤ªå¤šé…ç½®ã€‚<br><br>ä½ å…·ä½“ç¢°åˆ°äº†é—®é¢˜å¯ä»¥åœ¨è¿™é‡Œé—®ï¼Œæˆ‘ä¼šå°è¯•è§£ç­”ï¼Œæˆ‘ä¹Ÿçœ‹åˆ°äº†ä¸€äº›åŒå­¦åœ¨è¿™é‡Œç›¸äº’äº¤æµåˆ†äº«ä¸€äº›è§£å†³é—®é¢˜çš„å¿ƒå¾—ï¼Œ</p> <p class="reply-time">2019-07-09</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">19801254603</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">docker-compose upå¯åŠ¨æŠ¥é”™ï¼š<br>ssl error:tlsv1_alert_protocol_uersion  t1sv1 alert protocol version(ssl_c:661)ï¼Œèƒ½å¸®å¿™çœ‹ä¸‹å—<br><br></div> <span class="time">2019-07-08</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/58/fc/062ec8a1.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è¿½é©¬</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">mac ä¸‹ç¬¬ä¸€æ¬¡å¯ä»¥æ­£å¸¸å¯åŠ¨,ä½¿ç”¨down å‘½ä»¤åœæ­¢å,ç¬¬äºŒæ¬¡ å¯åŠ¨æ—§æŠ¥é”™ kibana <br>es èŠ‚ç‚¹æ­£å¸¸</div> <span class="time">2019-07-08</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¢åŠ dockerèµ„æºï¼Œä¾‹å¦‚4gå†…å­˜</p> <p class="reply-time">2019-07-09</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/17/e8/f74f4a59.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">patience</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å¦‚æœæœ‰äººä¸‹è½½é•œåƒæ…¢ï¼Œå¯ä»¥è¯•è¯•ï¼Œç›®å‰åªå¼„äº†è¿™å‡ ä¸ª<br>docker pull registry.cn-beijing.aliyuncs.com/liyongjian5179/kibana:7.1.0<br>docker pull registry.cn-beijing.aliyuncs.com/liyongjian5179/kibana:7.2.0<br>docker pull registry.cn-beijing.aliyuncs.com/liyongjian5179/elasticsearch:7.1.0<br>docker pull registry.cn-beijing.aliyuncs.com/liyongjian5179/elasticsearch:7.2.0</div> <span class="time">2019-07-08</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/b2/34/3af7f59c.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä¸€å¶çŸ¥ç§‹</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæ‚¨å¥½ï¼<br>å‚è€ƒæ‚¨çš„docker-compose.ymlæ–‡ä»¶ï¼Œåœ¨æœ¬åœ°æ­å»ºäº†elasticsearchçš„ç¯å¢ƒã€‚åªæŠŠelasticsearchã€kibanaçš„ç‰ˆæœ¬æ”¹æˆäº†7.1.1ï¼ŒæŠŠelasticsearchçš„ä¸¤ä¸ªèŠ‚ç‚¹æŒ‚è½½çš„ç›®å½•æ˜ å°„åˆ°äº†æŒ‡å®šçš„æ–‡ä»¶å¤¹ã€‚<br>é¦–æ¬¡ä½¿ç”¨docker-compose upå¯åŠ¨åï¼Œelasticsearchå‡ ç‚¹ã€é›†ç¾¤ä»¥åŠkibanaæœåŠ¡éƒ½èƒ½å¤Ÿæ­£å¸¸å¯åŠ¨ã€‚ä½†æ˜¯å½“æœåŠ¡åœæ­¢åï¼Œå†æ¬¡ä½¿ç”¨startå¯åŠ¨ æˆ–è€…å…ˆdownå¸è½½å†ä½¿ç”¨upå¯åŠ¨æœåŠ¡ï¼Œéƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚kibanaä¼šåœ¨è¿è¡Œä¸€ä¼šå„¿åè‡ªåŠ¨é€€å‡ºã€‚elasticsearchåªæœ‰ç¬¬ä¸€ä¸ªèŠ‚ç‚¹èƒ½å¯åŠ¨ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹å¯ä»¥å¯åŠ¨ä½†æ˜¯é›†ç¾¤æ— æ³•æ­£å¸¸åŠ è½½ã€‚æ—¥å¿—ä¸­ä¼šæœ‰ï¼š"stacktrace": ["org.elasticsearch.discovery.MasterNotDiscoveredException: null" é”™è¯¯ä¿¡æ¯ã€‚<br>è¯·æ•™ä¸‹è€å¸ˆï¼Œé—®é¢˜å¯èƒ½å‡ºåœ¨å“ªé‡Œï¼Ÿ</div> <span class="time">2019-07-08</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å°è¯•è°ƒå¤§docker å†…å­˜ç£ç›˜ç­‰èµ„æºã€‚down -våé‡æ–°è¿è¡Œ</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">asdf100</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">ä½¿ç”¨dockerå¦‚ä½•å®ç°esé›†ç¾¤çš„é«˜å¯ç”¨ï¼Œç°åœ¨åªæœ‰ä¸€ä¸ªedçš„masterå®ä¾‹æš´éœ²äº†9200ç«¯å£ï¼Œå¦‚æœè¿™ä¸ªå®ä¾‹æŒ‚æ‰çš„è¯æ•´ä¸ªæœåŠ¡å°±æŒ‚äº†ï¼Œå¦ä¸€ä¸ªmasteræ— æ³•æ¥ç®¡æœåŠ¡ï¼Œæ²¡æœ‰9200ç«¯å£ï¼Œè¿™æ—¶å¦‚ä½•è§£å†³ï¼Ÿ</div> <span class="time">2019-07-08</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">åç»­è¯¾ç¨‹æœ‰è®²ã€‚dockeråªæ˜¯æ–¹ä¾¿å¤§å®¶æœ¬æœºå­¦ä¹ ã€‚<br><br>çœŸçš„ç”Ÿäº§ç¯å¢ƒï¼Œä¸€ä¸ªæœºå™¨ä¸€ä¸ªesï¼Œéƒ½ç”¨9200ç«¯å£ï¼Œå‰ç«¯é…ç½®LBï¼Œå®ç°é«˜å¯ç”¨</p> <p class="reply-time">2019-07-09</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">honnkyou</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">--------------------<br>{"error":{"root_cause":[{"type":"master_not_discovered_exception","reason":null}],"type":"master_not_discovered_exception","reason":null},"status":503}<br>--------------------<br>http://localhost:9200/_cat/health?v æ£€æŸ¥çš„ç»“æœå¦‚ä¸Šï¼Œ<br>è®¾ç½®memer ä¸º4Gï¼ŒSwap ä¹Ÿè®¾ç½®äº†2Gåè¿˜æ˜¯æ²¡èƒ½è§£å†³ã€‚</div> <span class="time">2019-07-07</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">downlod -vä¹Ÿä¸è¡Œï¼ŸçœŸä¸€ä¸‹è§£å†³ä¸äº†ã€‚ä¸ä½¿ç”¨dockerä¹Ÿå®Œå…¨ä¸å½±å“åç»­çš„å­¦ä¹ ã€‚åç»­æˆ‘æ”¹å‘½ä»¤è¡Œæ¼”ç¤ºä¸€äº›åˆ†å¸ƒå¼ç‰¹æ€§äº†<br></p> <p class="reply-time">2019-07-09</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">honnkyou</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">------------------------------<br>es72_02           | {"type": "server", "timestamp": "2019-07-07T11:23:42,670+0000", "level": "WARN", "component": "o.e.c.c.ClusterFormationFailureHelper", "cluster.name": "geektime", "node.name": "es72_02",  "message": "master not discovered yet, this node has not previously joined a bootstrapped (v7+) cluster, and this node must discover master-eligible nodes [es72_01, es72_02] to bootstrap a cluster: have discovered []; discovery will continue using [] from hosts providers and [{es72_02}{MF38uz9OTUulZooQCWYApg}{S6h3uXSLRVCtvbNuyHnpZw}{elasticsearch}{172.18.0.5:9300}{ml.machine_memory=4139413504, xpack.installed=true, ml.max_open_jobs=20}] from last-known cluster state; node term 0, last-accepted version 0 in term 0"  }<br>------------------------------<br>è€å¸ˆï¼Œé“¾æ¥æ—¶ä¹ŸæŠ¥503é”™è¯¯ã€‚<br>dockeråä¸€ç›´æŠ¥è¿™ä¸ªé”™ï¼ŒæŠŠmemer è°ƒåˆ°4Gï¼ŒSwap 2Gè¿˜æ˜¯æ²¡èƒ½è§£å†³ã€‚</div> <span class="time">2019-07-07</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/8b/4b/503eaecc.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">skybird</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">docker-compose up æŠ¥é”™:<br>ERROR: error pulling image configuration: Get https://d2iks1dkcwqcbx.cloudfront.net/docker/registry/v2/blobs/sha256/12/12ad640a1ec0484ee7eac455e6b924fb01a1fc88ca01d5a6d90cfa7554ab4568/data?Expires=1562485673&Signature=XBhx2h8gv7RSO4TSR6NlviG8PdlkXJc00-arKuii3N0b2~ffTkCwIaabMfR78lrsQqeApxMGBUu2Qchn~mJdmI-D8~YU4apreUCRfVCOpawTs4wuvKPN68WuSWTXWL4BJ4eKS4p976YpYS5JxWXZl1tj9r9DykcagGobeWeDqSbjvI~MDa-TFvki-ONJoKf15wkn9pE8f1QPR6LOsnzoDFGL7qApeYFFsqsKhjfJxb4FnpZGJ8oMw8GfpQeuBRw~mR1oqTa6G9xyB1KL0XmVpUGgLYvqA-GyRU7nBDxpUbXLLpBxRLjs-yV6tXs5N3jDdhM3AOIGFEP6KwPu2dhRBw__&Key-Pair-Id=APKAIVAVKHB6SNHJAJQQ: read tcp 10.0.173.35:39830->99.86.183.60:443: read: connection reset by peer<br></div> <span class="time">2019-07-07</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/67/64/99bd16c8.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Evildoer</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å‘¼å‘¼ è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘çš„ç»éªŒï¼Œæˆ‘æ˜¯åœ¨Centos7çš„ä¸€å°å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²çš„dockerï¼Œç„¶åç›´æ¥çŒ´æ€¥çš„æ‰§è¡Œäº†docker-compose upã€‚<br>ç„¶åå°±è·Ÿå¤§å®¶ä¸€æ ·äº†ï¼Œè®¿é—®Kibanaæç¤ºæ²¡å‡†å¤‡å¥½ï¼Œç„¶åç”¨docker ps -aå‘ç°æŒ‚äº†ä¸¤ä¸ªESå®¹å™¨ï¼Œç”¨docker logs å®¹å™¨åæŸ¥çœ‹ESæ—¥å¿—å‘ç°æ‰“å°å†…å­˜ä¸è¶³<br>> max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]<br>ç™¾åº¦åçœ‹åˆ°æœ‰ä¸¤ç§æ–¹å¼è§£å†³ï¼š<br>1. `sysctl -w vm.max_map_count=262144` # ä¸€æ¬¡æ€§ç”Ÿæ•ˆ é‡å¯å°†å¤±æ•ˆ<br>2. å¦ä¸€ç§å°±æ˜¯ `echo 'vm.max_map_count=262144'>/etc/sysctl.conf  & sysctl -p`<br>Tips: ä¸¤ç§æ–¹å¼éƒ½éœ€è¦ä½¿ç”¨rootæ‰§è¡Œ<br>å¤„ç†å®Œä»¥åä½¿ç”¨ `docker-compose down -v & docker-compose up` é‡æ–°å¯åŠ¨dockerï¼Œå¯èƒ½æ˜¯æœºå™¨æ€§èƒ½é—®é¢˜ï¼Œæˆ‘å¯åŠ¨åç­‰äº†å·®ä¸å¤šä¸€åˆ†é’Ÿæ‰èƒ½æˆåŠŸç™»é™†Kibanaï¼Œå¥½äº†ï¼Œç¥å¤§å®¶å¥½è¿ã€‚<br><br><br><br><br></div> <span class="time">2019-07-07</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/49/71/aa15a4fc.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">null</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æˆ‘åœ¨dockerå®˜ç½‘ä¸Šçœ‹åˆ°<br>There is no docker0 bridge on Windows<br>Because of the way networking is implemented in Docker Desktop for Windows, you cannot see a docker0 interface on the host. This interface is actually within the virtual machine.<br><br>å®˜æ–¹è¯´windowsæ²¡æœ‰è¿™ä¸ª bridge   é‚£åº”è¯¥æ€ä¹ˆè§£å†³è¿™ä¸ª</div> <span class="time">2019-07-07</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¯ä»¥è€ƒè™‘è£…è™šæ‹Ÿæœºå®‰è£…linuxã€‚è¿™ä¸ªé—®é¢˜ä¸æ˜¯blocking issueï¼Œä»‹ç»dockeråªæ˜¯æ–¹ä¾¿å¤§å®¶æœ¬æœºå®‰è£…å¤šä¸ªesç‰ˆæœ¬ã€‚å¦‚æœå¡å£³å¤ªä¹…ï¼Œå°±æš‚æ—¶è·³è¿‡å§ã€‚å¦‚æœæ„¿æ„ç»§ç»­é’»ç ”ï¼Œä¹Ÿæ²¡é—®é¢˜ï¼Œæ¯•ç«Ÿä»‹ç»ä¸€äº›å·¥å…·çš„åˆè¡·ä¹Ÿæ˜¯ä¸ºäº†æ‹“å®½å¤§å®¶çš„çŸ¥è¯†å‚¨å¤‡</p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/49/71/aa15a4fc.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">null</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆä½ å¥½ï¼Œæˆ‘æ˜¯ä½¿ç”¨çš„windows 10 ç³»ç»Ÿ  docker ç‰ˆæœ¬æ˜¯18.09.2  æˆ‘æ‹¿åˆ°ä½ çš„docker-compose.yamlæ–‡ä»¶æ‰§è¡Œçš„ docker-compose up å‘½ä»¤çš„æ—¶å€™   æç¤º<br><br>Creating network "elasticsearch-720_es7net" with driver "bridge"<br>ERROR: could not find plugin bridge in v1 plugin registry: plugin not found<br><br><br>è¯·é—®ä¸€ä¸‹æ˜¯å› ä¸ºä»€ä¹ˆå‘¢</div> <span class="time">2019-07-07</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æœ‰äººè¯´æ˜¯windowsä¸æ”¯æŒbridgeæ¨¡å¼ï¼Œæˆ‘å…·ä½“æ²¡ç”¨åœ¨windowsä¸‹æµ‹è¯•è¿‡ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿™ä¸ªåŸå› å¼•èµ·çš„</p> <p class="reply-time">2019-07-11</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/IZd3jUCN7twoXUE89syewHM8MvWJVDQdoSSlIs07R8bXxX6CWcAvaTodcjU1c3no4o3hAeibg5aUn59YvhdWEQQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">HotSpotVM</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆè¯·é—®ä¸‹åœ¨å¯åŠ¨å•èŠ‚ç‚¹çš„æ—¶å€™bin/elasticsearch -E node.name=node0 -E cluster.name=geektime -E path.data=node0_data  å‡ºç°äº†å¦‚ä¸‹é”™è¯¯è¯·é—®æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ<br>â€œorg.elasticsearch.tools.java_version_checker.JavaVersionChecker<br>Ô­â–’â–’: java.lang.ClassNotFoundException: org.elasticsearch.tools.java_version_checker.JavaVersionCheckerâ€<br>ESç‰ˆæœ¬ï¼š7.1.0<br>ç³»ç»Ÿç‰ˆæœ¬ï¼šwin10<br>æœ¬æœºjdkç‰ˆæœ¬ï¼šopenjdk11<br></div> <span class="time">2019-07-06</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/0f/80/293def91.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">yoyo</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æ–‡ä»¶ä¸èƒ½æ”¾åœ¨ä¸­æ–‡ç›®å½• å¦åˆ™ç¬¬äºŒæ¬¡kibanaå¯åŠ¨ä¸äº†</div> <span class="time">2019-07-06</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">è°¢è°¢ä½ çš„å‘ç°</p> <p class="reply-time">2019-07-07</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Geek_3b2370</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">é€šè¿‡è€å¸ˆæä¾›çš„docker-compose.yaml  æç¤ºé”™è¯¯ï¼šunauthorized: authentication requiredï¼Œè¯·é—®æ€ä¹ˆè§£å†³ï¼Ÿ</div> <span class="time">2019-07-06</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">imageéƒ½ä¸‹è½½äº†å˜›ï¼Ÿdocker-composeå¾ˆå¤šåŒå­¦ç¢°åˆ°çš„é—®é¢˜ï¼Œéƒ½å’Œdockeråˆ†é…èµ„æºä¸è¶³å¼•èµ·çš„ï¼Œä½ å°è¯•ç€åŠ å¤§ä¸€äº›cpuå’Œç£ç›˜ç©ºé—´ã€‚å°†å†…å­˜è®¾ç½®æˆ4Gï¼Œdocker-compose down -våå†è¯•è¯•ï¼Ÿ</p> <p class="reply-time">2019-07-06</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Geek_3b2370</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæ‹‰å»dockeré•œåƒæå…¶å›°éš¾ï¼Œæ˜¯å¦å¯ä»¥æä¾›ç›¸å…³é•œåƒå…±ä¸‹è½½ï¼Ÿ</div> <span class="time">2019-07-06</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å·²ç»æœ‰åŒå­¦æä¾›äº†é•œåƒã€‚ä½ æŸ¥çœ‹ä¸€ä¸‹ç•™è¨€</p> <p class="reply-time">2019-07-08</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/4f/26/f21afb83.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æš–è‰²æµ®ä½™ç”Ÿ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">ä¸ºä»€ä¹ˆæˆ‘çš„å¯åŠ¨æˆåŠŸæ²¡æœ‰æ•°æ®å•Š</div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¯åŠ¨åæ˜¯æ²¡æ•°æ®çš„ã€‚æœ‰ä¸¤ä¸ªæ–¹å¼åŠ å…¥æ•°æ®<br>1. åœ¨kibané¦–é¡µï¼Œé€‰æ‹©å¯¼å…¥sampleæ•°æ®<br>2. é€šè¿‡logstashå¯¼å…¥ç›¸å…³æ•°æ®<br><br>ç»†èŠ‚å¯ä»¥çœ‹ä¸€ä¸‹è¯¾ç¨‹ä¸­çš„è§†é¢‘</p> <p class="reply-time">2019-07-06</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/53/13/8de56677.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä½ ä»¬æœ€çˆ±çš„å°æ°</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œä¸ºä»€ä¹ˆæ¯æ¬¡åªæœ‰æ‰§è¡Œdocker-compose down -væ‰èƒ½å¯åŠ¨æˆåŠŸ</div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ å°è¯•ç€å¢åŠ ä¸€ä¸‹dockerçš„èµ„æºï¼Ÿå†è¯•ä¸€ä¸‹ï¼Ÿ</p> <p class="reply-time">2019-07-06</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/c7/47/30d4b61e.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä¸æ˜¯äº‘ä¸é£˜</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å¯åŠ¨æˆåŠŸï¼Œä¹‹é—´ç¢°åˆ°ä¸ªé—®é¢˜ï¼Œdockeråˆ†é…çš„å†…å­˜éœ€è¦é…ç½®å¤§ç‚¹ï¼ŒåŸå…ˆ2Gä¸å¤Ÿç”¨ï¼Œåé¢é…ç½®åˆ°4Gå°±å¾ˆé¡ºåˆ©çš„èµ·æ¥äº†ã€‚dockerçš„ç›¸å…³çŸ¥è¯†è¿˜éœ€è¦è¿›ä¸€æ­¥äº†è§£ã€‚</div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/c3/8f/1c63c1bb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">kmzcm</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è¿è¡Œå‘½ä»¤æŠ¥é”™ï¼šERROR: Get https://registry-1.docker.io/v2/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)    æˆ‘çš„ç½‘ç»œæ˜¯æ­£å¸¸çš„ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ</div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ å¯ä»¥æŸ¥ä¸€ä¸‹ registry-1.docker.io æ˜¯å¦å¯ä»¥è¿é€šï¼Ÿ</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/4f/26/f21afb83.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æš–è‰²æµ®ä½™ç”Ÿ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">ä½¿ç”¨Docker-compose up å¯åŠ¨åæŠ¥é”™ <br>ERROR: Couldn't connect to Docker daemon at http+docker://localhost - is it running?<br><br>If it's at a non-standard location, specify the URL with the DOCKER_HOST environment variable<br>æˆ‘å¾—é—®é¢˜æ˜¯ï¼ŒCentos 7 ç‰ˆæœ¬ä¸‹åœ¨ /etc/default/docker æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚<br>è§£å†³æ–¹å¼ï¼š<br>æ‰“å¼€ docker.service <br>sudo vim /lib/systemd/system/docker.service<br>åœ¨[Service] æ ä¸­ <br>å°†<br>ExecStart=/usr/bin/dockerd -H fd://    or   ExecStart=/usr/bin/docker -H fd://<br>ä¿®æ”¹ä¸º<br>ExecStart=/usr/bin/dockerd  -H fd:// $DOCKER_OPTS<br>å°†è¿™ä¸€è¡Œæ·»åŠ åˆ°ä¸Šé¢æåˆ°çš„ä¸Šé¢<br>EnvironmentFile=-/etc/default/docker   <br>é‡å¯æœåŠ¡ å°±OKäº†<br>sudo systemctl daemon-reload<br>sudo service docker restart<br></div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘ï¼</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/a9/b8/abe2c084.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ä¸è®©å¤©ä½¿è½æ³ª</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæœ‰ä¸ªç–‘é—®ï¼šåœ¨cerebroä¸­ç›´æ¥é…ç½®çš„æ˜¯ - -Dhosts.0.host=http://elasticsearch:9200ã€‚æ˜¯é…ç½®åœ¨dockerä¸­é…ç½®äº†hostçš„å—ï¼Ÿ</div> <span class="time">2019-07-05</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å—¯ï¼Œè¿™ä¸ªæ˜¯dockerä¸­é…ç½®çš„ç½‘ç»œã€‚docker-composeå†…éƒ¨éœ€è¦é€šè¿‡è¿™ä¸ªç½‘ç»œè¿›è¡Œè®¿é—®</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/e9/91/b2a811f3.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">èµ„å®</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œä½ å¥½ï¼Œcerebro åœ¨dockerä¸­å¦‚è®¾ç½®è®¿é—®Cerebroçš„ç”¨æˆ·ååŠå¯†ç <br>-Dhosts.0.host=http://elasticsearch:9200 æ˜¯å¯¹åº”çš„Cerebro é…ç½®æ–‡ä»¶ä¸­çš„å—<br>hosts=[<br>  {<br>    host="http://192.168.1.141:9200"<br>    name="es_log"<br>  }<br><br>è€å¸ˆæœ¬æœºæ˜¯ä¸æ˜¯é…ç½®äº†hosts elasticsearchæŒ‡å‘äº†æœ¬åœ°</div> <span class="time">2019-07-05</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/d9/77/b92a74d6.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å½ª</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œæˆ‘åœ¨dockerä¸­å¯åŠ¨esä¹‹åï¼Œæ¯æ¬¡ ctrl + c ä¹‹åï¼Œåœ¨é‡æ–° docker-compose up ä¹‹åï¼Œkibanaå°±æ— æ³•è¿æ¥åˆ° es æœåŠ¡äº†ï¼ŒUnable to revive connection ...ï¼Œæœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆä¹ˆï¼Ÿ</div> <span class="time">2019-07-04</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æ¯æ¬¡éƒ½éœ€è¦ docker-compse down -v?<br><br>è¯·è®°å¾—ç¡®ä¿ä½ çš„dockeré…ç½®äº†è¶³å¤Ÿå¤šçš„å†…å­˜å’Œç£ç›˜ç©ºé—´ï¼Œé¿å…å‡ºç°å› ä¸ºèµ„æºä¸å¤Ÿæ‰€å¯¼è‡´çš„é—®é¢˜</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/9c/b0/08d7700d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">start</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œè¯·é—®ä¸‹kibana 7.xçš„æ±‰åŒ–æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</div> <span class="time">2019-07-04</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ æ˜¯è¯´å¦‚ä½•é…ç½®å—ï¼Ÿ<br><br>ä¿®æ”¹kibana.ymlä¸­i18n.locale: â€œzh-CNâ€</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/17/44/1d/d5a03004.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">åˆ˜é¹</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å¼€å§‹å¤±è´¥äº†<br>åæ¥<br>å…ˆdocker-compose down -v && docker-compose up<br>åˆæŠŠeså†…å­˜ä»512mæ”¹æˆ256m<br>ç°åœ¨å¥½äº†ï¼ŒåŸå› ä¸æ˜</div> <span class="time">2019-07-04</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">docker demonå¯ä»¥é…ç½®æ€»çš„å†…å­˜çš„ã€‚æˆ‘æœ¬æœºè®¾ç½®äº†4g</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/55/fe/ab541300.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å°çŒª</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œdockeræ–¹å¼å¯åŠ¨eså¯ä»¥ç”¨åœ¨ç”Ÿäº§ä¸­å—ï¼Ÿåœ¨ä¸€å°æœåŠ¡å™¨é€šè¿‡dockeræ–¹å¼éƒ¨ç½²ï¼</div> <span class="time">2019-07-04</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ç”Ÿäº§ç¯å¢ƒå¦‚æœä½¿ç”¨å®¹å™¨æŠ€æœ¯ï¼Œéœ€è¦è€ƒè™‘ä½¿ç”¨kubernetesï¼Œdocker-composeä¸»è¦æ˜¯ç”¨åœ¨å¼€å‘ç¯å¢ƒ</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è¯è¯¾</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆæ‚¨å¥½ï¼Œdockerå®‰è£…çš„esæ€ä¹ˆç»™ä»–å®‰è£…æ’ä»¶ï¼Œåé¢åˆ†æéœ€è¦å®‰è£…æ’ä»¶</div> <span class="time">2019-07-03</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">dockerå®‰è£…æ’ä»¶ï¼Œéœ€è¦ä½ å†™Dockerfileï¼Œåœ¨build imageçš„æ—¶å€™å®‰è£…ã€‚ä»å­¦ä¹ è§’åº¦ï¼Œæˆ‘è§‰å¾—ç¢°åˆ°å­¦ä¹ å®‰è£…æ’ä»¶æµ‹è¯•åˆ†è¯ï¼Œä½ å®Œå…¨å¯ä»¥ä¸ç”¨dockerçš„æ–¹å¼è¿è¡Œï¼Œå•èŠ‚ç‚¹è¿è¡Œå³å¯</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è¯è¯¾</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">ç³»ç»Ÿæ˜¯centos7 ç‰ˆæœ¬ï¼Œæ‰§è¡Œdocker-compose upå‘ç°kibanaå¯åŠ¨ä¸èµ·å•¦ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š<br>{"type":"log","@timestamp":"2019-07-03T10:57:26Z","tags":["warning","elasticsearch","admin"],"pid":1,"message":"No living connections"}<br>{"type":"log","@timestamp":"2019-07-03T10:57:29Z","tags":["warning","elasticsearch","admin"],"pid":1,"message":"Unable to revive connection: http://elasticsearch:9200/"}<br>æˆ‘ç›®å‰elasticsearchç›‘å¬0.0.0.0 </div> <span class="time">2019-07-03</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ç»­æŸæŸ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆ, æˆ‘å†å®˜ç½‘æ²¡æ‰¾åˆ°.tarçš„å‹ç¼©å‘¢. æ±—. <br>æˆ‘æ˜¯macæœ¬, ä¸‹è½½çš„å°±æ˜¯.dmgå®‰è£…åŒ…, ç›´æ¥å°±å®‰è£…äº†.<br>ä¸‹è½½çš„æ˜¯  docker desktop,  é‡Œè¾¹å·²ç»ç»§æ‰¿äº†composeç­‰. <br>ä½†æ˜¯é…ç½®æ–‡ä»¶ä¹Ÿæ‰¾ä¸åˆ°å•Š. </div> <span class="time">2019-07-03</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">docker-compose.ymléœ€è¦ä»githubä¸‹è½½</p> <p class="reply-time">2019-07-03</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/5d/a3/245b74d9.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ‰“å¬å¹¸ç¦çš„ä¸‹è½</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">kibanaå¯åŠ¨æ—¶å…¨æ˜¯ä¸‹é¢çš„è¿™ç§ä¿¡æ¯ï¼š<br>kibana7           | {"type":"log","@timestamp":"2019-07-02T15:55:17Z","tags":["status","plugin:kibana@undefined","info"],"pid":1,"state":"green","message":"Status changed from uninitialized to green - Ready","prevState":"uninitialized","prevMsg":"uninitialized"}<br>kibana7           | {"type":"log","@timestamp":"2019-07-02T15:55:20Z","tags":["status","plugin:elasticsearch@undefined","info"],"pid":1,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}<br>kibana7           | {"type":"log","@timestamp":"2019-07-02T15:55:20Z","tags":["status","plugin:xpack_main@7.1.0","info"],"pid":1,"state":"yellow","message":"Status changed from uninitialized to yellow - Waiting for Elasticsearch","prevState":"uninitialized","prevMsg":"uninitialized"}<br></div> <span class="time">2019-07-03</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/5d/a3/245b74d9.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ‰“å¬å¹¸ç¦çš„ä¸‹è½</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">cerebroå¯åŠ¨æŠ¥é”™ï¼š<br>cerebro           | Oops, cannot start the server.<br>cerebro           | java.util.concurrent.TimeoutException: Futures timed out after [5 seconds]<br>cerebro           |     at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)<br>cerebro           |     at scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)<br>cerebro           |     at scala.concurrent.Await$.$anonfun$result$1(package.scala:219)<br>cerebro           |     at scala.concurrent.BlockContext$DefaultBlockContext$.blockOn(BlockContext.scala:57)<br>cerebro           |     at scala.concurrent.Await$.result(package.scala:146)<br>cerebro           |     at play.core.server.AkkaHttpServer.createServerBinding(AkkaHttpServer.scala:162)<br>cerebro           |     at play.core.server.AkkaHttpServer.$anonfun$httpServerBinding$1(AkkaHttpServer.scala:165)<br>cerebro           |     at play.core.server.AkkaHttpServer.$anonfun$httpServerBinding$1$adapted(AkkaHttpServer.scala:165)<br>cerebro           |     at scala.Option.map(Option.scala:163)<br>cerebro           |     at play.core.server.AkkaHttpServer.<init>(AkkaHttpServer.scala:165)<br>cerebro           |     at play.core.server.AkkaHttpServerProvider.createServer(AkkaHttpServer.scala:578)<br>cerebro           |     at play.core.server.AkkaHttpServerProvider.createServer(AkkaHttpServer.scala:576)<br>cerebro           |     at play.core.server.ServerProvider.createServer(ServerProvider.scala:26)<br>cerebro           |     at play.core.server.ServerProvider.createServer$(ServerProvider.scala:25)<br>cerebro           |     at play.core.server.AkkaHttpServerProvider.createServer(AkkaHttpServer.scala:576)<br>cerebro           |     at play.core.server.ProdServerStart$.start(ProdServerStart.scala:63)<br>cerebro           |     at play.core.server.ProdServerStart$.main(ProdServerStart.scala:29)<br>cerebro           |     at play.core.server.ProdServerStart.main(ProdServerStart.scala)<br>cerebro exited with code 255</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">è¯•ç€æŠŠdockerçš„å†…å­˜è°ƒå¤§ï¼Ÿè®¾ç½®æˆ4gçœ‹çœ‹ï¼Ÿ</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/76/9a/5b80c066.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">onebird</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å¤§å®¶å¯ä»¥å°è¯•åŠ å…¥è¿™é¡¹é€‰é¡¹ï¼Ÿ<br><br>https://github.com/geektime-geekbang/geektime-ELK/pull/3#pullrequestreview-256845149<br><br>è°¢è°¢ SimpleChenyh</div> <span class="time">2019-07-02</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/fc/fe/2594a83e.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Melodykke</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">kibanaå’Œcerebroä¼¼ä¹æ˜¯ä¸èƒ½åŒæ—¶ä½¿ç”¨å•Š<br>è¿™ä¸ªdock-compse.yamlå·²ç»æäº†ä¸¤å¤©äº†ï¼Œæ€ä¹ˆè¯•éƒ½ä¸è¡Œã€‚<br>æˆ‘æ˜¯mac os10.14.5 Darwin melodykkedeMacBook-Pro.local 18.6.0 Darwin Kernel Version 18.6.0: Thu Apr 25 23:16:27 PDT 2019; root:xnu-4903.261.4~2/RELEASE_X86_64 x86_64<br>Docker Engine: 18.09.2 Compose: 1.23.2<br>å½“æˆ‘åŸæ¨¡åŸæ ·æŒ‰ç…§è€å¸ˆç»™çš„yaml compse upçš„æ—¶å€™ï¼Œeséƒ½æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†å¦‚æœè¿™ä¸ªæ—¶å€™æµè§ˆå™¨è®¿é—®äº†Kibanaï¼ŒKibanaæ˜¯å¯ä»¥è¿åˆ°esçš„ï¼Œç•Œé¢ä¸€åˆ‡æ­£å¸¸ã€‚æ¥ç€è®¿é—®cerebroï¼Œç™»é™†çš„æ—¶å€™å°±ä¼šæŠ¥é”™äº†ï¼Œåå°ä¹Ÿæ˜¯è·Ÿç€ä¸€å †é”™ï¼Œç´§æ¥ç€åŒ…æ‹¬esçš„æ‰€æœ‰æœåŠ¡å…¨éƒ¨æŒ‚æ‰ã€‚ æ¯”å¦‚ï¼š"stacktrace": ["org.elasticsearch.transport.ConnectTransportException: [es7_01][192.168.112.3:9300] connect_exception",<br>es7_02            | "at org.elasticsearch.transport.TcpTransport$ChannelsConnectedListener.onFailure(TcpTransport.java:1299) ~[elasticsearch-7.1.0.jar:7.1.0]",<br>â€¦â€¦â€¦â€¦<br>â€¦â€¦â€¦â€¦<br>"Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: elasticsearch/192.168.112.3:9300",<br>es7_02            | "at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]",<br>es7_02            | "at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779) ~[?:?]",<br>es7_02            | "at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327) ~[?:?]",<br>es7_02            | "at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340) ~[?:?]",<br>es7_02            | "at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) ~[?:?]",<br>es7_02            | "at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:556) ~[?:?]",<br>es7_02            | "at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:510) ~[?:?]",<br>es7_02            | "at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:470) ~[?:?]",<br>es7_02            | "... 1 more",<br>es7_02            | "Caused by: java.net.ConnectException: Connection refused"<br>ç„¶åï¼Œé‡æ¥ä¸€éï¼Œè¿™æ¬¡å…ˆè¿æ¥cerebroï¼Œç™»é™†okæ²¡æœ‰é—®é¢˜ï¼Œä¸€åˆ‡æ­£å¸¸ï¼Œesé›†ç¾¤çŠ¶å†µç›‘æ§ä¸€åˆ‡éƒ½å¥½ã€‚è¿™æ—¶å€™è¿æ¥Kibanaï¼ŒåŒæ ·æŠ¥å·®ä¸å¤šçš„é”™ï¼Œç„¶ååŒæ ·æ‰€æœ‰æœåŠ¡å®æ‰ã€‚<br>å®åœ¨è„‘å£³ç—›å•Šï¼Œèƒ½æœ‰è€å¸ˆæˆ–è€…å¤§ğŸ‚å¸®ä¸‹å¿™å—ï¼Ÿ è°¢è°¢äº†ï¼<br></div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ å°è¯•ç€å§dockerçš„å†…å­˜cpuå’Œç£ç›˜ç©ºé—´é€‚å½“è°ƒå¤§ã€‚ä¾‹å¦‚å†…å­˜è®¾ç½®æˆ4g</p> <p class="reply-time">2019-07-04</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/15/5d/a3/245b74d9.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ‰“å¬å¹¸ç¦çš„ä¸‹è½</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">Windowsä¸‹Kibanaæ— æ³•å¯åŠ¨æ˜¯ä»€ä¹ˆæƒ…å†µå•Š</div> <span class="time">2019-07-02</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¯ä»¥æŠŠå‡ºé”™ä¿¡æ¯æä¾›å‡ºæ¥ï¼Œå¤§å®¶ä¸€èµ·çœ‹çœ‹æ˜¯ä»€ä¹ˆåŸå› </p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/b7/d6/ccbb1f68.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">20ID</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å®¹å™¨åœ¨å…³æœºå,ç¬¬äºŒæ¬¡é‡å¯æŠ¥é”™<br>```<br>master not discovered or elected yet, an election requires a node with id [VnC897LTTKea2mrQRTiDNw], have discovered [] which is not a quorum; discovery will continue using [] from hosts providers and [{es7_01}{aGA2DJxhRDqc416EDe40uQ}{7Kj3MAo_SiSuDRgPTaQbGQ}{172.19.0.2}{172.19.0.2:9300}{ml.machine_memory=3954163712, xpack.installed=true, ml.max_open_jobs=20}] from last-known cluster state; node term 1, last-accepted version 39 in term 1<br>```</div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">docker-compose down -v<br>ç„¶ådocker-compose up</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/ec/08/2919958c.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Alex</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è¸©äº†ä¸€ä¸ªå‘<br>ERROR: [1] bootstrap checks failed<br>es7_0             | [1]: max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]<br><br>vmå¤§å°è®¾ç½®é—®é¢˜</div> <span class="time">2019-07-01</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/ec/08/2919958c.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Alex</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘è¿™è¾¹é‡åˆ°è¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼Œå¥½åƒæ˜¯Esèµ·ä¸èµ·æ¥<br>{"type":"log","@timestamp":"2019-07-01T11:34:20Z","tags":["warning","elasticsearch","admin"],"pid":1,"message":"Unable to revive connection: http://elasticsearch:9200/"}<br>kibana7           | {"type":"log","@timestamp":"2019-07-01T11:34:20Z","tags":["warning","elasticsearch","admin"],"pid":1,"message":"No living connections"}<br></div> <span class="time">2019-07-01</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ å°è¯• docker-compose down -v<br>ç„¶ådocker-compose upï¼Ÿ<br><br>å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·å‘ŠçŸ¥ä½ çš„OSï¼Œdocker-composeç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Ÿ</p> <p class="reply-time">2019-07-02</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/b7/d6/ccbb1f68.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">20ID</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">åœ¨dockerç¯å¢ƒä¸­é€šè¿‡ logstash ç»™ ES æ³¨å…¥æ•°æ®<br>https://honghuhu.github.io/2019/6/29/</div> <span class="time">2019-06-30</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/db/7d/1fbad49b.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">John</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å‘ç°ç”¨ docker-compose down å…³é—­é›†ç¾¤åï¼Œä¸‹æ¬¡å† upï¼Œå°±ä¸æ­£å¸¸äº†ï¼Œkibana å¯åŠ¨ä¸äº†ï¼Œcebero<br> ä¹Ÿè¿ä¸ä¸Š 9200ã€‚éœ€è¦ç”¨ docker-compose down -v æ¸…ç†åï¼Œå†å¯åŠ¨å°±å¯ä»¥äº†ï¼Œç„¶è€Œæ•°æ®éœ€è¦é‡æ–°å¯¼å…¥ã€‚ä¸çŸ¥é“æœ‰æ›´å¥½çš„æ–¹æ³•å—ï¼Ÿè°¢è°¢</div> <span class="time">2019-06-30</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æˆ‘çš„æœºå™¨ä¸Šä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚æŒ‰ç†ï¼Œdocker-composeä¹Ÿä¸åº”è¯¥æ˜¯è¿™æ ·çš„è¡Œä¸ºã€‚<br><br>å»ºè®®åˆ°ç¤¾åŒºæé—®ã€‚å¦å¤–ï¼Œæœ€å¥½æä¾›æ‰€ç”¨çš„OSã€‚docker-compose ç‰ˆæœ¬ç­‰ä¿¡æ¯</p> <p class="reply-time">2019-07-01</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/6f/cc/8dd73087.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">çº›</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">docker-compose upå‘½ä»¤å¯åŠ¨ï¼šå¦‚å¯åŠ¨æ—¶æç¤ºcerebroï¼štimeout   not get heard åˆ™éœ€å°†docker destop => settings=>daemon=> basedå˜æˆadvanced,åŒæ—¶å°†â€œregistry-mirrors":é•œåƒè®¾ç½®æˆhttps://docker.mirrors.ustc.edu.cnï¼Œäº²æµ‹å¯æµç•…ä¸‹è½½</div> <span class="time">2019-06-30</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æ„Ÿè°¢ä½ åˆ†äº«çš„é•œåƒ</p> <p class="reply-time">2019-07-01</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">dao</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è¸©å‘å•¦ï¼<br>å¦‚æœESå¯åŠ¨å¤±è´¥ï¼Œå‡ºç°è¿™æ ·çš„é”™è¯¯<br><br>```text<br>max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]<br>```<br><br>æ˜¯å› ä¸ºNMAP è®¾ç½®è¿‡å°ï¼Œè¯·å°è¯•<br><br>```bash<br>sudo -i<br>sysctl -w vm.max_map_count=262144<br># æŒä¹…åŒ–ï¼Œä»¥ä¾¿ç”µè„‘é‡å¯ä¹Ÿå¯ä»¥ä½¿ç”¨<br>echo "vm.max_map_count=262144" >> /etc/sysctl.conf <br>exit<br>```<br></div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æ­å–œå‡ºå‘ï¼Œè°¢è°¢åˆ†äº«è¸©è¿‡çš„å‘</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/fe/c3/1d0b571e.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å¿§ä¼¤çš„é”®ç›˜</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">åˆ†äº«ä¸€ä¸ªæˆ‘æœ¬åœ°å¯ç”¨çš„yml,å¸Œæœ›å¸®åˆ°åŒæ ·è¿·è·¯çš„<br><br><br>version: '3.1'<br>services:<br>  cerebro:<br>    image: lmenezes/cerebro:0.8.3<br>    container_name: 'cerebro'<br>    ports:<br>      - 9000:9000<br>    command:<br>      - -Dhosts.0.host=http://elasticsearch:9200<br>    networks:<br>      - es7net<br>  kibana:<br>    image: docker.elastic.co/kibana/kibana:7.2.0<br>    container_name: 'kibana7'<br>    environment:<br>      - I18N_LOCALE=zh-CN<br>      - XPACK_GRAPH_ENABLED=true<br>      - TIMELION_ENABLED=true<br>      - XPACK_MONITORING_COLLECTION_ENABLED="true"<br>    ports:<br>      - 5601:5601<br>    networks:<br>      - es7net<br>  elasticsearch:<br>    image: docker.elastic.co/elasticsearch/elasticsearch:7.2.0<br>    container_name: 'es7_01'<br>    environment:<br>      - cluster.name=geektime<br>      - node.name=es7_01<br>      - bootstrap.memory_lock=true<br>      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"<br>      - discovery.seed_hosts=es7_01<br>      - cluster.initial_master_nodes=es7_01,es7_02<br>    ulimits:<br>      memlock:<br>        soft: -1<br>        hard: -1<br>    volumes:<br>      - es7data1:/usr/share/elasticsearch/data<br>    ports:<br>      - 9200:9200<br>    networks:<br>      - es7net<br>  elasticsearch2:<br>    image: docker.elastic.co/elasticsearch/elasticsearch:7.2.0<br>    container_name: 'es7_0'<br>    environment:<br>      - cluster.name=geektime<br>      - node.name=es7_02<br>      - bootstrap.memory_lock=true<br>      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"<br>      - discovery.seed_hosts=es7_01<br>      - cluster.initial_master_nodes=es7_01,es7_02<br>    ulimits:<br>      memlock:<br>        soft: -1<br>        hard: -1<br>    volumes:<br>      - es7data2:/usr/share/elasticsearch/data<br>    ports:<br>      - 9300:9200<br>    networks:<br>      - es7net<br><br><br>volumes:<br>  es7data1:<br>    driver: local<br>  es7data2:<br>    driver: local<br><br>networks:<br>  es7net:<br>    driver: bridge<br></div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Felix</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æˆ‘å‘ç°äº†è€å¸ˆçš„ä¸€ä¸ªç‰¹ç‚¹:å¯¹ç§°</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æ²¡çœ‹æ˜ç™½ï¼Œä»€ä¹ˆå¯¹ç§°ï¼Ÿ</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/c5/51/958e5300.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">â” èµ±ç§è²¨ç¬</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æˆ‘è¿›å…¥7.x-docker-2-es-instancesæ–‡ä»¶å¤¹ï¼Œç„¶åè¿è¡Œdocker-compose upå‘½ä»¤ï¼ŒæŠ¥é”™ï¼š<br>ERROR: The Compose file '.\docker-compose.yaml' is invalid because:<br>Invalid top-level property "driver". Valid top-level sections for this Compose ile are:version,services,networks,volumes,and extensions starting with "x-".<br>æˆ‘çš„æœ¬æœºçš„elasticsearchå’Œkibanaéƒ½æ˜¯7.2.0ç‰ˆæœ¬ï¼Œæˆ‘æŠŠdocker-compose.yamlé‡Œçš„ç‰ˆæœ¬å·éƒ½æ”¹æˆ7.2.0äº†ï¼Œè¿˜æ˜¯ä¸è¡Œ~<br></div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ çš„docker-composeæ˜¯ä»€ä¹ˆç‰ˆæœ¬çš„å‘¢ï¼Ÿ</p> <p class="reply-time">2019-07-05</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/b7/d6/ccbb1f68.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">20ID</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆ:<br>   æˆ‘ç”¨docker-compose å®‰è£…, <br>   ä¸€åªæŠ¥è¶…æ—¶,<br>   æˆ‘æœäº†å‡ ä¸ª,å›½å†…çš„é•œåƒæºä¿®æ”¹ä¸Šå»,ä¹Ÿè¿˜æ˜¯ä¸è¡Œ,æ€ä¹ˆåŠ?</div> <span class="time">2019-06-29</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ ä¸‹è½½è¿™ä¸ªæºé‡Œå…¶ä»–çš„imageå¯ä»¥å—ï¼Ÿ<br><br>dock pull your-img-url</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">senekis</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œå¯åŠ¨åKibanæ— æ³•è®¿é—®elasticsearchï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š<br>kibana7           | {"type":"log","@timestamp":"2019-06-28T23:52:23Z","tags":["warning","elasticsearch","admin"],"pid":1,"message":"Unable to revive connection: http://elasticsearch:9200/"}<br><br>å°è¯•é€šè¿‡curlè®¿é—®elasticsearch:<br>[root@aliyun-centos7-domain-node1 ~]# curl http://elasticsearch:9200<br>{<br>  "name" : "es7_01",<br>  "cluster_name" : "geektime",<br>  "cluster_uuid" : "fZFL9-AgQPC09Pv5JgcYBw",<br>  "version" : {<br>    "number" : "7.1.0",<br>    "build_flavor" : "default",<br>    "build_type" : "docker",<br>    "build_hash" : "606a173",<br>    "build_date" : "2019-05-16T00:43:15.323135Z",<br>    "build_snapshot" : false,<br>    "lucene_version" : "8.0.0",<br>    "minimum_wire_compatibility_version" : "6.8.0",<br>    "minimum_index_compatibility_version" : "6.0.0-beta1"<br>  },<br>  "tagline" : "You Know, for Search"<br>}<br>å¯ä»¥æ­£å¸¸è¿”å›ç»“æœ<br><br>è¿™æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„å‘¢ï¼Ÿå°è¯•äº†åŒå­¦ä»¬ç•™è¨€é‡Œé¢æåˆ°çš„æ‰€æœ‰æ–¹æ³•ï¼Œkibanaä¾ç„¶æ— æ³•æˆåŠŸè®¿é—®elasticsearch<br><br></div> <span class="time">2019-06-29</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/46/48/1707fbe9.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">åˆ˜è¶…</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">vi /etc/sysctl.conf<br>æ·»åŠ vm.max_map_count=655360<br>downçš„æ—¶å€™è¦-vï¼Œå¦åˆ™ä¸‹æ¬¡å¯åŠ¨ä¼šå‡ºé”™ã€‚è¸©äº†ä¸€ä¸­åˆçš„å‘ã€‚<br></div> <span class="time">2019-06-28</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">down -v æ˜¯æŠŠvolumnçš„æ•°æ®æ¸…ç©ºã€‚å¦åˆ™ä¼šä¿ç•™</p> <p class="reply-time">2019-06-28</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/65/f0/1fdcbece.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å¥”è·‘çš„å°æ ‹æ ‹</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆæ‚¨å¥½ï¼Œdockerä¸­å¯åŠ¨yamlåæ˜¾ç¤ºå¦‚ä¸‹æŠ¥é”™ï¼Œè¾›è‹¦æŒ‡å¯¼ä¸‹<br>es7_01            | {"type": "server", "timestamp": "2019-06-27T16:41:53,612+0000", "level": "INFO", "component": "o.e.c.c.JoinHelper", "cluster.name": "geektime", "node.name": "es7_01",  "message": "failed to join {es7_02}{w0KM5PaeSsCNZkj5pQnZVw}{3TRSiHmTRhiiI0KyAbmpJg}{172.19.0.3}{172.19.0.3:9300}{ml.machine_memory=2095869952, ml.max_open_jobs=20, xpack.installed=true} with JoinRequest{sourceNode={es7_01}{6ZiKBasBTgqHl-bar1utgA}{o3ELHUzfSuq8RB1fYD8LJw}{172.19.0.5}{172.19.0.5:9300}{ml.machine_memory=2095869952, xpack.installed=true, ml.max_open_jobs=20}, optionalJoin=Optional[Join{term=1, lastAcceptedTerm=0, lastAcceptedVersion=0, sourceNode={es7_01}{6ZiKBasBTgqHl-bar1utgA}{o3ELHUzfSuq8RB1fYD8LJw}{172.19.0.5}{172.19.0.5:9300}{ml.machine_memory=2095869952, xpack.installed=true, ml.max_open_jobs=20}, targetNode={es7_02}{w0KM5PaeSsCNZkj5pQnZVw}{3TRSiHmTRhiiI0KyAbmpJg}{172.19.0.3}{172.19.0.3:9300}{ml.machine_memory=2095869952, ml.max_open_jobs=20, xpack.installed=true}}]}" ,<br>es7_01            | "stacktrace": ["org.elasticsearch.transport.NodeNotConnectedException: [es7_02][172.19.0.3:9300] Node not connected",</div> <span class="time">2019-06-28</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ å°è¯• docker-compose down -v æŠŠæŒ‚è½½ç›˜åˆ é™¤å åœ¨docker-compose up ã€‚çœ‹çœ‹æ˜¯å¦å¯ä»¥è§£å†³ã€‚æˆ‘çœ‹æœ‰å‡ ä½åŒå­¦åˆ†äº«äº†è¿™ä¸ªæ–¹æ³•ï¼Œè§£å†³äº†ç›¸å…³çš„é—®é¢˜</p> <p class="reply-time">2019-06-30</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">asdf100</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">    command:<br>      - -Dhosts.0.host=http://elasticsearch:9200<br><br>è¿™ä¸ªæŒ‡ä»¤ä»€ä¹ˆæ„æ€ï¼Ÿæˆ‘çœ‹ç½‘ä¸Šæ˜¯åˆ†å¼€å†™ip å’Œ portäº†</div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/18/1b/a2/d0a6775d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">ğŸ’ Darling-å°é„§æ€»ğŸŠ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆè¦æ˜¯æœ‰ä¸ªwindowsçš„æ•™å­¦ä¼šæ›´åŠ å¥½ã€‚è·Ÿmacå·®è·å¥½å¤§ã€‚å¼„çš„å¤´éƒ½å¤§äº†ï¼Œè¿˜è¦å„ç§åœ¨ç½‘ä¸Šæœ</div> <span class="time">2019-06-27</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ ç°åœ¨ç¢°åˆ°çš„é—®é¢˜æ˜¯ Dockerè¿˜æ˜¯ ES å®‰è£…ï¼Ÿ å…·ä½“çš„é—®é¢˜ä½ å¯ä»¥æã€‚å› ä¸ºå®‰è£…çš„é—®é¢˜ï¼Œä¸ä¼šåœ¨è¯¾ç¨‹ä¸­ï¼Œåšè¿‡äºè¯¦ç»†çš„è®²è§£ã€‚</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoRyUPicEMqGsbsMicHPuvwM8nibfgK8Yt0AibAGUmnic7rLF4zUZ4dBj4ialYz54fOD6sURKwuJIWBNjhg/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å’¸é±¼ä¸æœæ±</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼Œå¯ä»¥æŠŠ@LYçš„é—®é¢˜å›ç­”ä¸‹å—</div> <span class="time">2019-06-27</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å¾·æ–¯å„¿</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆï¼ŒKibana7.1æ˜¯è‡ªå¸¦çš„ä¸­æ–‡æ±‰åŒ–å—ï¼Ÿæˆ‘ç°åœ¨ç”¨çš„6.5.4æ˜¯æ²¡æœ‰æ±‰åŒ–çš„ï¼Œè¿˜æœ‰dockerå¯åŠ¨kibanaï¼Œå¦‚æœè£…äº†æ’ä»¶ï¼Œå¯åŠ¨å¾ˆä¼šæ…¢ï¼Œè¿™ä¸ªæœ‰è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</div> <span class="time">2019-06-26</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">6.8å’Œ7.0å¼€å§‹ï¼Œæ”¯æŒä¸­æ–‡ã€‚éœ€è¦åœ¨kibana.ymlä¸­è¿›è¡Œè®¾å®šã€‚<br><br>2. Kibanaä½ å®‰è£…äº†ä»€ä¹ˆæ’ä»¶ï¼Ÿä¸€èˆ¬ä¸éœ€è¦å®‰è£…æ’ä»¶æŠŠï¼ŸKibanaä½¿ç”¨nodeå¼€å‘ï¼Œä¸ªäººè§‰å¾—æ•´ä½“é€Ÿåº¦è¿˜å¯ä»¥ï¼Œå°±æ˜¯å¯¹CPUæœ‰ä¸€å®šçš„å¼€é”€</p> <p class="reply-time">2019-06-27</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/ce/60/7d17522d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å›è«æƒœ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æ²¡æœ‰ä¿®æ”¹docker-compose.ymlæ–‡ä»¶ï¼Œå…¨éƒ¨å¯åŠ¨æˆåŠŸä¹‹åï¼Œlocalhost:5601ä¸€ç›´è¿›ä¸å»ï¼Œlocalhost:9200ç›´æ¥æ˜¾ç¤ºï¼š<br>è¯¥ç½‘é¡µæ— æ³•æ­£å¸¸è¿ä½œ<br>localhost æœªå‘é€ä»»ä½•æ•°æ®ã€‚<br>ERR_EMPTY_RESPONSE</div> <span class="time">2019-06-26</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/f7/7a/fc236813.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">shanwu1992</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">docker-compose.xmlä¸­çš„kibanaæœ‰æŒ‡å®šè¿æ¥elasticsearché…ç½®å—</div> <span class="time">2019-06-26</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJpD6dfddmEC4fiaRudUwgoXQRjI8HqcZDYEAzfQQaYTEywhH3ibibEZ4t7t1SrnQM3ykmQRNM8wmIWQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Geek_385321</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">es7_01            | {"type": "server", "timestamp": "2019-06-26T01:32:57,633+0000", "level": "INFO", "component": "o.e.n.Node", "cluster.name": "geektime", "node.name": "es7_01",  "message": "closed"  }<br>es7_01            | {"type": "server", "timestamp": "2019-06-26T01:32:57,639+0000", "level": "INFO", "component": "o.e.x.m.p.NativeController", "cluster.name": "geektime", "node.name": "es7_01",  "message": "Native controller process has stopped - no new native processes can be started"  }<br>es7_02 exited with code 78<br>es7_01 exited with code 78<br></div> <span class="time">2019-06-26</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJpD6dfddmEC4fiaRudUwgoXQRjI8HqcZDYEAzfQQaYTEywhH3ibibEZ4t7t1SrnQM3ykmQRNM8wmIWQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">Geek_385321</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">???? <br>$ sudo docker-compose up<br>Pulling kibana (docker.elastic.co/kibana/kibana:7.1.0)...<br>7.1.0: Pulling from kibana/kibana<br>8ba884070f61: Already exists<br>1d1fa0015513: Pulling fs layer<br>89eb31e0c2f5: Pulling fs layer<br>06e418438b84: Pulling fs layer<br>402cffb373dc: Waiting<br>04a881828200: Waiting<br>301a4cfc4f4f: Waiting<br>f9ded62578b8: Waiting<br>ERROR: error pulling image configuration: Get https://d2iks1dkcwqcbx.cloudfront.net/docker/registry/v2/blobs/sha256/71/714b175e84e8fa91ceed8b802980efb4017fa75359599cd2b63c87bbc26efe77/data?Expires=1561451920&Signature=bU1q3TdUTu0gS1ddHQzGdDhfg9a0zYa2wRWTAkIFIXLTfPYrJ1rUHNwYJk04VLWhDm09tkktiJk5p3T8dtMu1mIeZol9WDuoRGywaeoi7XXkDs77Dzk2zyxiVvWaKSLhoCDZj3KYqD0u2~u1PK8BFtP32IXNKB4C3oJxAGTR-nPMTI3aoXBSN7l4vwNOqlytdCwTjBlMKmddRFbYGRosplzldHiua2l-z~5~lGclmYLbW~f9egYvTBptnjfxOuNpenC3yN5yZvD~~0TXiCvOD7LrznqC5W8Fs~vJQOPaw5FbcRpxaiBoNEpLI60dSxeo6eW4FzeCsjXaqlXGCUAw8w__&Key-Pair-Id=APKAIVAVKHB6SNHJAJQQ: net/http: TLS handshake timeout<br></div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">åº”è¯¥æ˜¯ç½‘ç»œé—®é¢˜å¯¼è‡´çš„è¶…æ—¶</p> <p class="reply-time">2019-07-10</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/9d/84/171b2221.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">jeffery</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è€å¸ˆæœ‰æ¨èçš„ä¹¦ç±å—â€¦â€¦æ‰“ç®—å­¦å®Œè€ƒElastic åŒäº‹è€ƒè¯•è´¹400$ ä»¥åŠä¸æ‡‚javaæ€ä¹ˆå­¦ èƒ½è´´ä¸‹è€ƒè¯•æŠ¥åé“¾æ¥å— è°¢è°¢è€å¸ˆ</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æœ€è¿‘è¿è¥çš„åŒå­¦ä¼šç»™å‡ºç›¸åº”çš„å­¦ä¹ è·¯å¾„ï¼ŒåŒ…æ‹¬ä¸€äº›æ¨èçš„ä¹¦ç±ã€‚ä½ ä¸éœ€è¦ä¼šjavaã€‚ä½†æ˜¯æŒæ¡ä»»ä½•ä¸€é—¨è¯­è¨€ï¼Œéƒ½èƒ½å¸®åŠ©ä½ ç†è§£ã€‚ä½†è¿™ä¹Ÿä¸æ˜¯å¿…éœ€çš„ã€‚<br><br>è®¤è¯åœ°å€<br>https://www.elastic.co/cn/training/certification</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">å·²è§£å†³ï¼Œç©ºç™½é¡µé¢é—®é¢˜æ˜¯æµè§ˆå™¨ä¸å…¼å®¹ï¼Œæ¢äº†è°·æ­Œå³å¯</div> <span class="time">2019-06-25</span>
	<div class="reply">
	
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">Starting cerebro ... done<br>Starting es7_02  ... done<br>Starting es7_01  ... done<br>Starting kibana7 ... done<br>Attaching to es7_02, kibana7, es7_01, cerebro<br>es7_02            | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br>es7_01            | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.<br><br>cerebro           | WARNING: An illegal reflective access operation has occurred<br>cerebro           | WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/opt/cerebro/lib/com.google.inject.guice-4.2.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)<br>cerebro           | WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1<br>cerebro           | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations<br>cerebro           | WARNING: All illegal access operations will be denied in a future release<br>cerebro           | WARNING: An illegal reflective access operation has occurred<br>cerebro           | WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/opt/cerebro/lib/com.google.inject.guice-4.2.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)<br>cerebro           | WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1<br>cerebro           | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations<br>cerebro           | WARNING: All illegal access operations will be denied in a future release<br>es7_01 exited with code 137<br>es7_02 exited with code 137</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">æ˜¯å¦å¯ä»¥è´´å‡ºä½ çš„é…ç½®ï¼Ÿ</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æœ¬åœ°è¿˜è¦å®‰è£…es å’Œkibanaå—ï¼Ÿ</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">å¦‚æœåœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œæœ¬åœ°å¯ä»¥ä¸ç”¨ä¸‹è½½å®‰è£…ã€‚åœ¨å®¹å™¨ä¸­è¿è¡Œåªæ˜¯æä¾›äº†æ›´å¤šçš„ä¸€ç§é€‰æ‹©ï¼Œæ–¹ä¾¿ä½ å¯¹æ•°æ®è¿›è¡Œå’Œç¯å¢ƒè¿›è¡Œé«˜æ•ˆçš„æ¢å¤ã€‚ä¹Ÿå¾ˆå®¹æ˜“åœ¨æœ¬åœ°ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„eså’Œkibanaã€‚</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">æ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">kibana7           | {"type":"log","@timestamp":"2019-06-25T02:20:46Z","tags":["warning","elasticsearch","admin"],"pid":1,"message":"Unable to revive connection: http://elasticsearch:9200/"}<br><br><br>å‰é¢è¯¾ç¨‹æ¡ˆä¾‹æ²¡æœ‰æ‰§è¡Œï¼Œç›´æ¥åŸºäºdockerå®¹å™¨æ¥æ‰§è¡Œçš„ï¼Œä½†æ˜¯è®¿é—®5601æ‰“ä¸å¼€é¡µé¢ï¼Ÿ ä¸Šé¢æœ‰æ—¥å¿—æç¤º</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä»å‡ºé”™ä¿¡æ¯çœ‹ï¼Œæ˜¯esæ²¡æœ‰å¯åŠ¨ã€‚ä½ å¯ä»¥è¿è¡Œ<br>docker ps -a æŸ¥çœ‹è¿è¡Œçš„ containers<br><br>docker logs -t containerId æŸ¥çœ‹æŸä¸ªå®¹å™¨ä¸­çš„å‡ºé”™ä¿¡æ¯</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/48/ff/1967cdbb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å–è½®å­</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">è¯·æ•™:æˆ‘yamlæ–‡ä»¶ä¸­å¢åŠ ä¸€ä¸ªesèŠ‚ç‚¹ä¸ºå•¥å°±å¯åŠ¨ä¸èµ·æ¥äº†ï¼Ÿ</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä½ çš„é…ç½®æ€ä¹ˆå†™çš„ï¼Ÿ</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/3b/65/3a4fc8cf.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">prepared</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æ­£å¼è¯¾ç¨‹å‰ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±åœ¨dockerä¸­å®‰è£…esç¯å¢ƒå˜›ï¼Ÿ</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">dockerç¯å¢ƒä¸­è¿è¡Œåªæ˜¯æä¾›äº†ä½ ä¸€ä¸ªé€‰æ‹©ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨æœ¬æœºç”¨å‘½ä»¤è¡Œå¯åŠ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªèŠ‚ç‚¹</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/48/ff/1967cdbb.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å–è½®å­</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">é›†ç¾¤çš„è¯æœ€å°‘ä¸åº”è¯¥æ˜¯3ä¸ªèŠ‚ç‚¹ä¹ˆï¼Ÿ</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥è¿è¡Œä¸€ä¸ªé›†ç¾¤ã€‚å…·ä½“çš„å›ç­”å›åœ¨ä½ çš„å¦å¤–ä¸€æ¡ç•™è¨€ä¸­äº†ã€‚</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/21/2f/85a3c897.jpg" class="avatar">
<div class="info">
	<div class="hd"><span class="username">å­™æœ‰èƒ½å¸Œ</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">dockerçš„å¯åŠ¨éƒ½æ˜¯æˆåŠŸçš„ï¼Œä½†æ˜¯åªèƒ½è®¿é—®åˆ°locahost:9200ï¼Œè®¿é—®æŒ‡å®šç½‘å€å°±æ˜¯ä¸è¡Œï¼Œä¸çŸ¥é“æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Ÿ</div> <span class="time">2019-06-25</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">elasticsearch.ymlä¸­æœ‰ä¸€ä¸ªnetwork.hostçš„é…ç½®é¡¹ï¼Œä¸åšè®¾ç½®ï¼Œé»˜è®¤åªèƒ½é€šè¿‡127.0.0.1è®¿é—®ã€‚ä½ å¯ä»¥ç®€å•ç²—æš´çš„è®¾ç½®æˆ0.0.0.0ï¼Œåº”è¯¥å¯ä»¥è§£å†³ä½ çš„é—®é¢˜ã€‚å½“ç„¶ç”Ÿäº§ç¯å¢ƒä¸­ä¸å»ºè®®è¿™æ ·çš„è®¾ç½®ï¼Œä¼šå¼•å…¥ä¸€å®šçš„å®‰å…¨éšæ‚£</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li><li data-v-87ffcada="" class="comment-item"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKrKqWxLNy9Vm5kcrTIybH7RLbKAIuLZQ1tw5yjmhsQKh2akQd9CjQgUqAZx6TztXc1JTBCx4M8vQ/132" class="avatar">
<div class="info">
	<div class="hd"><span class="username">è¸é›ªæ— ç—•</span>
	<div class="control">
		 <a href="javascript:;" class="btn-praise"><i class="iconfont">î˜¦</i> <span>0</span></a></div>
	</div>
	<div class="bd">æ‚¨å¥½ï¼š<br> docker-composeå®‰è£…å¤±è´¥ï¼Œæ‚¨çœ‹ä¸‹æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ<br>/usr/bin/python3.6: symbol lookup error: /usr/bin/python3.6: undefined symbol: _Py_LegacyLocaleDetected</div> <span class="time">2019-06-24</span>
	<div class="reply">
	<div class="reply-hd"><i class="iconfont">î˜ˆ</i> <span>ä½œè€…å›å¤</span></div> 
	<p class="reply-content">è¿™ä¸ªé”™è¯¯æˆ‘æ²¡é‡åˆ°è¿‡ï¼Œæ˜å¤©æŸ¥ä¸€ä¸‹çœ‹ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å’Œä½ çš„pytonç‰ˆæœ¬æœ‰å…³ã€‚ä½ æœ‰è€ƒè™‘å®‰è£…ä¸ªpyenvï¼Œåœ¨æœ¬æœºç®¡ç†ä¸ªç‰ˆæœ¬çš„pythonä¹ˆ</p> <p class="reply-time">2019-06-25</p>
	</div>
</div>
</li></ul></div></div><div data-v-4e11b9bf=""></div></div></div><link href="https://cdn.bootcss.com/dplayer/1.25.0/DPlayer.min.css" rel="stylesheet"><script src="https://cdn.bootcss.com/hls.js/0.10.1/hls.min.js"></script><script src="https://cdn.bootcss.com/dplayer/1.25.0/DPlayer.min.js"></script><script>            const dp = new DPlayer({                container: document.getElementById('DplayerCont'),                video: {                    url: 'https://media001.geekbang.org/ccca31a772644e3980b92d2aa9d31f65/2ecc6a8eb86d4c12a6dd1eee73cdd286-416937c074be5e6c22cf81478d8773c6-hd.m3u8',                    type: 'hls'                }            });</script></body></html>